import{d as zr,a as k,b as c,f as v,s as S,c as qe,e as Lr}from"../chunks/B2A7gHtL.js";import{p as $r,s as C,a as Se,u as Fr,b as Rr,t as m,c as Tr,e as qr,d as l,g as e,h as o,f as p,$ as Er,r as n,n as Fe,k as de,j as Lt,i as _,l as Ur}from"../chunks/qR_TM3YX.js";import{i as y}from"../chunks/DpBBTLWw.js";import{g as Br,a as D,s as $,e as ue,i as ve,r as Re,c as pe,d as Hr,b as Te}from"../chunks/BhtVncI_.js";import{h as Ir}from"../chunks/CXQ1lKJR.js";import{b as lt}from"../chunks/nnazh41B.js";import{i as Dr,s as Pr}from"../chunks/DVP7Iy08.js";import{g as Gr}from"../chunks/Be_uRYmX.js";var Kr=v('<span class="text-xs text-text-muted ml-2"> </span>'),Qr=qe('<svg class="w-4 h-4 animate-spin inline mr-1" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"></path></svg>'),Zr=v('<p class="text-xs text-status-error/80 font-mono"> </p>'),Wr=v('<div class="rounded-xl border border-status-error/30 bg-status-error/10 p-4"><p class="text-sm font-medium text-status-error mb-2">⚠️ Configuration Issues</p> <!></div>'),Xr=v('<div class="rounded-xl border border-status-error/30 bg-status-error/10 p-4"><p class="text-sm text-status-error"> </p></div>'),Yr=v('<div class="text-center py-16"><div class="w-16 h-16 rounded-2xl bg-bg-tertiary border border-border-default flex items-center justify-center mx-auto mb-4"><svg class="w-8 h-8 text-text-muted" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.066 2.573c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.573 1.066c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.066-2.573c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg></div> <p class="text-text-muted text-sm">Connect to the gateway to edit configuration.</p></div>'),ea=v('<div class="rounded-xl border border-border-default bg-bg-secondary/50 p-4 animate-pulse"><div class="h-4 w-32 bg-bg-tertiary rounded mb-3"></div> <div class="h-3 w-full bg-bg-tertiary rounded mb-2"></div> <div class="h-3 w-3/4 bg-bg-tertiary rounded"></div></div>'),ta=v('<div class="space-y-4"></div>'),ra=v(`<div class="rounded-xl border border-border-default bg-bg-secondary/50 overflow-hidden"><div class="px-4 py-3 border-b border-border-default flex items-center justify-between"><span class="text-sm font-medium text-text-primary">Raw Configuration (JSON)</span> <span class="text-xs text-text-muted font-mono"> </span></div> <textarea class="w-full h-[600px] p-4 bg-bg-primary text-text-primary font-mono text-sm
                 resize-none focus:outline-none border-none" spellcheck="false"></textarea></div>`),aa=v("<button> </button>"),na=v('<span class="text-xs text-text-muted hidden md:inline"> </span>'),oa=v('<span class="text-xs text-accent-green">configured</span>'),sa=v('<span class="text-text-primary"> </span>'),ia=v('<span class="text-text-primary"> </span>'),la=v('<span class="text-red-400 ml-0.5 text-xs">*</span>'),ca=v('<p class="text-xs text-text-muted mb-2"> </p>'),da=v('<label class="inline-flex items-center gap-2 cursor-pointer"><input type="checkbox" class="w-4 h-4 rounded border-border-default bg-bg-tertiary accent-accent-cyan"/> <span class="text-sm text-text-secondary"> </span></label>'),ua=v("<option> </option>"),va=v("<select><option>— not set —</option><!></select>"),pa=v('<input type="number"/>'),fa=v('<textarea spellcheck="false"></textarea>'),xa=v('<div class="mt-1"><button class="text-xs text-accent-cyan hover:underline"> </button> <!></div>'),ba=v('<textarea spellcheck="false"></textarea>'),ma=v("<textarea></textarea>"),ga=v("<input/>"),ya=v('<p class="mt-1 text-xs text-red-400 bg-red-500/5 border border-red-500/30 rounded px-2 py-1"> </p>'),_a=v('<span class="text-[10px] text-text-muted"> </span>'),ha=v('<span class="text-[10px] text-accent-amber">nullable</span>'),wa=v('<div class="group"><div class="flex items-start gap-3"><div class="flex-1 min-w-0"><label class="block text-sm font-medium text-text-secondary mb-1"><span class="font-mono text-xs text-accent-purple mr-1"> </span> <!> <!></label> <!> <!> <!> <div class="mt-1 flex items-center gap-2"><span class="text-[10px] text-text-muted font-mono"> </span> <!> <!></div></div></div></div>'),ka=v(`<textarea class="w-full h-32 px-3 py-2 rounded-lg border border-border-default bg-bg-primary
                           text-xs text-text-primary font-mono resize-y focus:outline-none focus:border-accent-cyan" spellcheck="false"></textarea>`),Sa=v('<div class="border-t border-border-default px-4 py-3 space-y-4"><!></div>'),Ca=v('<div class="rounded-xl border border-border-default bg-bg-secondary/50 overflow-hidden"><button class="w-full px-4 py-3 flex items-center justify-between hover:bg-bg-tertiary/50 transition-all"><div class="flex items-center gap-3"><span class="text-sm font-mono text-accent-cyan"> </span> <span class="text-sm text-text-primary font-medium"> </span> <!></div> <div class="flex items-center gap-2"><!> <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></div></button> <!></div>'),ja=v(`<div class="flex items-center gap-3 flex-wrap"><input type="text" placeholder="Search config keys..." class="flex-1 min-w-[200px] px-4 py-2 rounded-lg border border-border-default bg-bg-tertiary
                 text-sm text-text-primary placeholder:text-text-muted
                 focus:outline-none focus:border-accent-cyan transition-all"/> <div class="flex items-center gap-1 flex-wrap"><button>All</button> <!></div></div> <div class="space-y-4"></div>`,1),Oa=v(`<div class="rounded-xl border border-border-default bg-bg-secondary/50 p-4"><p class="text-sm text-text-muted mb-3">Schema not available. Showing raw JSON editor.</p> <textarea class="w-full h-[500px] p-4 bg-bg-primary text-text-primary font-mono text-sm
                 resize-none focus:outline-none rounded-lg border border-border-default" spellcheck="false"></textarea></div>`),Na=v('<span class="text-xs text-accent-amber">● Unsaved changes</span>'),Ja=v('<span class="text-xs text-red-400"> </span>'),Aa=v('<span class="text-xs text-text-muted font-mono"> </span>'),Ma=qe('<svg class="w-4 h-4 animate-spin inline mr-1" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"></path></svg>'),Va=qe('<svg class="w-4 h-4 animate-spin inline mr-1" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"></path></svg>'),za=qe('<svg class="w-4 h-4 animate-spin inline mr-1" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"></path></svg>'),La=v(`<div class="sticky bottom-0 -mx-6 px-6 py-4 bg-bg-primary/90 backdrop-blur-sm border-t border-border-default"><div class="flex items-center justify-between gap-4 max-w-5xl mx-auto"><div class="flex items-center gap-2"><!> <!> <!></div> <div class="flex items-center gap-2"><button><!> Save</button> <button class="px-4 py-2 rounded-lg text-sm font-medium border transition-all
                     bg-accent-purple/20 border-accent-purple/30 text-accent-purple hover:bg-accent-purple/30 glow-purple
                     disabled:opacity-50"><!> Apply &amp; Restart</button> <button class="px-4 py-2 rounded-lg text-sm font-medium border transition-all
                     bg-accent-green/20 border-accent-green/30 text-accent-green hover:bg-accent-green/30
                     disabled:opacity-50"><!> Update Gateway</button></div></div></div>`),$a=v(`<div class="h-full overflow-y-auto"><div class="max-w-5xl mx-auto p-4 md:p-6 space-y-6"><div class="flex items-center justify-between flex-wrap gap-4"><div><h1 class="text-2xl font-bold text-text-primary">Gateway Configuration</h1> <p class="text-sm text-text-muted mt-1">Edit your OpenClaw gateway settings <!></p></div> <div class="flex items-center gap-2"><div class="flex rounded-lg border border-border-default overflow-hidden"><button>Form</button> <button>Raw JSON</button></div> <button class="px-3 py-2 rounded-lg text-sm border border-border-default hover:border-accent-cyan
                 text-text-secondary hover:text-accent-cyan transition-all disabled:opacity-50"><!> Refresh</button></div></div> <!> <!> <!> <!></div></div>`);function Ia($t,Ft){$r(Ft,!0);const Ce=Br(),P=Gr();let te=C(!1),fe=C(!1),xe=C(!1),R=C(null),h=C(null),q=C(null),ct=C(null),Ee=C(Se([])),re=C(null),je=C(Se({})),Ue=C(null),E=C("form"),U=C(""),ae=C(!1),be=C(!1),Oe=C(""),W=C(null),ne=C(Se(new Set));Se({});let G=C(Se({})),Be={};function dt(t,r,s,f){const u=De(s),x=r!=null?String(r):"";if(f&&(r==null||x.trim()===""))return"This field is required";if(r==null||x==="")return null;switch(u){case"string":{const b=x.trim();if(s.minLength!==void 0&&b.length<s.minLength)return`Minimum length is ${s.minLength} characters`;if(s.maxLength!==void 0&&b.length>s.maxLength)return`Maximum length is ${s.maxLength} characters`;break}case"number":case"integer":{const b=Number(r);if(isNaN(b))return"Must be a valid number";if(u==="integer"&&!Number.isInteger(b))return"Must be a whole number";if(s.minimum!==void 0&&b<s.minimum)return`Minimum value is ${s.minimum}`;if(s.maximum!==void 0&&b>s.maximum)return`Maximum value is ${s.maximum}`;break}case"array":{if(typeof r=="string")try{const b=JSON.parse(r);if(!Array.isArray(b))return"Must be a valid JSON array"}catch{return"Invalid JSON — must be a valid array"}else if(!Array.isArray(r))return"Must be an array";break}case"object":{if(typeof r=="string")try{const b=JSON.parse(r);if(typeof b!="object"||b===null||Array.isArray(b))return"Must be a valid JSON object"}catch{return"Invalid JSON — must be a valid object"}else if(typeof r!="object"||r===null||Array.isArray(r))return"Must be an object";break}}return null}function ut(t,r,s,f){const u=t.join("."),x=dt(t,r,s,f);if(x)l(G,{...e(G),[u]:x},!0);else{const b={...e(G)};delete b[u],l(G,b,!0)}}function me(t,r,s,f){const u=t.join(".");Be[u]&&clearTimeout(Be[u]),Be[u]=setTimeout(()=>{ut(t,r,s,f)},300)}function Rt(){if(!e(h)||!e(re)?.properties)return!0;const t={};for(const[r,s]of Object.entries(e(re).properties)){const f=s,u=e(h)[r],x=f.required??[];if(f.properties)for(const[b,oe]of Object.entries(f.properties)){const T=[r,b],w=u?u[b]:void 0,J=x.includes(b),M=dt(T,w,oe,J);M&&(t[T.join(".")]=M)}}return l(G,t,!0),Object.keys(t).length===0}let He=_(()=>Object.keys(e(G)).length),Ie=_(()=>e(He)>0),ge=C(!1);function De(t){if(t)return Array.isArray(t.type)?t.type.filter(s=>s!=="null")[0]??t.type[0]:t.type}function vt(t){return t.replace(/_/g," ").replace(/([a-z0-9])([A-Z])/g,"$1 $2").replace(/\s+/g," ").replace(/^./,r=>r.toUpperCase())}function Tt(t,r,s){const f=structuredClone(t);let u=f;for(let x=0;x<r.length-1;x++)(!(r[x]in u)||typeof u[r[x]]!="object"||u[r[x]]===null)&&(u[r[x]]={}),u=u[r[x]];return u[r[r.length-1]]=s,f}function qt(t){const r=t.join(".");if(e(je)[r]?.secret)return!0;const f=t[t.length-1]?.toLowerCase()??"";return["token","secret","password","apikey","api_key","apiToken"].some(u=>f.includes(u.toLowerCase()))}function Et(t){const r=t.join(".");return!!e(je)[r]?.multiline}function Ut(t){const r=t.join(".");return e(je)[r]}let Pe=_(()=>e(re)?.properties?Object.entries(e(re).properties).map(([t,r])=>({key:t,label:r.title||vt(t),description:r.description,schema:r,hasValue:e(h)?t in e(h):!1})).filter(t=>{if(!e(Oe))return!0;const r=e(Oe).toLowerCase();return t.key.toLowerCase().includes(r)||t.label.toLowerCase().includes(r)||(t.description?.toLowerCase().includes(r)??!1)}):[]),Bt=_(()=>e(W)?e(Pe).filter(t=>t.key===e(W)):e(Pe));async function Ge(){if(!(!D.connected||e(te))){l(te,!0),l(R,null);try{const[t,r]=await Promise.all([D.call("config.get",{}),D.call("config.schema",{})]);t&&(l(h,t.config??{},!0),l(q,t.hash??null,!0),l(ct,t.valid??null,!0),l(Ee,Array.isArray(t.issues)?t.issues:[],!0),l(U,t.raw??JSON.stringify(t.config,null,2),!0),l(ae,!1),l(be,!1)),r&&(l(re,r.schema??null,!0),l(je,r.uiHints??{},!0),l(Ue,r.version??null,!0))}catch(t){l(R,String(t),!0),P.error("Config Load Failed",String(t))}finally{l(te,!1)}}}async function Ht(){if(!(!D.connected||e(fe)||!e(q))){if(e(E)==="form"&&!Rt()){const r=Object.keys(e(G)).length;P.error("Validation Failed",`${r} validation error${r!==1?"s":""} — fix them before saving`);return}l(fe,!0),l(R,null);try{const t=e(E)==="raw"?e(U):JSON.stringify(e(h),null,2);await D.call("config.set",{raw:t,baseHash:e(q)}),P.success("Config Saved","Configuration saved successfully"),l(be,!1),l(ae,!1),await Ge()}catch(t){l(R,String(t),!0),P.error("Save Failed",String(t))}finally{l(fe,!1)}}}async function It(){if(!(!D.connected||e(xe)||!e(q))){l(xe,!0),l(R,null);try{const t=e(E)==="raw"?e(U):JSON.stringify(e(h),null,2);await D.call("config.apply",{raw:t,baseHash:e(q)}),P.success("Config Applied","Configuration applied — gateway will restart"),l(be,!1),l(ae,!1)}catch(t){l(R,String(t),!0),P.error("Apply Failed",String(t))}finally{l(xe,!1)}}}async function Dt(){if(!(!D.connected||e(ge))){l(ge,!0),l(R,null);try{await D.call("update.run",{}),P.success("Update Started","Gateway update initiated — may restart")}catch(t){l(R,String(t),!0),P.error("Update Failed",String(t))}finally{l(ge,!1)}}}function X(t,r){e(h)&&(l(h,Tt(e(h),t,r),!0),l(be,!0))}function pt(t,r,s){const f=De(s);let u=r;if(f==="number"||f==="integer"){const x=Number(r);isNaN(x)||(u=x)}else f==="boolean"&&(u=r==="true");X(t,u)}function ft(t){const r=new Set(e(ne));r.has(t)?r.delete(t):r.add(t),l(ne,r,!0)}Fr(()=>{Ce.state.status==="connected"&&Rr(()=>Ge())});let Ke=_(()=>e(E)==="raw"?e(ae):e(be));var Qe=$a();Ir("1gp6n77",t=>{qr(()=>{Er.title="Config — Cortex"})});var xt=o(Qe),Ze=o(xt),We=o(Ze),bt=p(o(We),2),Pt=p(o(bt));{var Gt=t=>{var r=Kr(),s=o(r);n(r),m(()=>S(s,`· schema ${e(Ue)??""}`)),c(t,r)};y(Pt,t=>{e(Ue)&&t(Gt)})}n(bt),n(We);var mt=p(We,2),Xe=o(mt),Ye=o(Xe),gt=p(Ye,2);n(Xe);var Ne=p(Xe,2),Kt=o(Ne);{var Qt=t=>{var r=Qr();c(t,r)};y(Kt,t=>{e(te)&&t(Qt)})}Fe(),n(Ne),n(mt),n(Ze);var yt=p(Ze,2);{var Zt=t=>{var r=Wr(),s=p(o(r),2);ue(s,17,()=>e(Ee),ve,(f,u)=>{var x=Zr(),b=o(x);n(x),m(()=>S(b,`${e(u).path?`[${e(u).path}] `:""}${e(u).message??""}`)),c(f,x)}),n(r),c(t,r)};y(yt,t=>{(e(ct)===!1||e(Ee).length>0)&&t(Zt)})}var _t=p(yt,2);{var Wt=t=>{var r=Xr(),s=o(r),f=o(s,!0);n(s),n(r),m(()=>S(f,e(R))),c(t,r)};y(_t,t=>{e(R)&&t(Wt)})}var ht=p(_t,2);{var Xt=t=>{var r=Yr();c(t,r)},Yt=t=>{var r=ta();ue(r,20,()=>Array(4),ve,(s,f)=>{var u=ea();c(s,u)}),n(r),c(t,r)},er=t=>{var r=ra(),s=o(r),f=p(o(s),2),u=o(f,!0);n(f),n(s);var x=p(s,2);de(x),n(r),m(b=>S(u,b),[()=>e(q)?`hash: ${e(q).slice(0,12)}...`:""]),k("input",x,()=>l(ae,!0)),lt(x,()=>e(U),b=>l(U,b)),c(t,r)},tr=t=>{var r=ja(),s=Lt(r),f=o(s);Re(f);var u=p(f,2),x=o(u),b=p(x,2);ue(b,17,()=>e(Pe),ve,(T,w)=>{var J=aa(),M=o(J,!0);n(J),m(()=>{$(J,1,`px-2.5 py-1 rounded-md text-xs transition-all
                     ${e(W)===e(w).key?"bg-accent-cyan/20 text-accent-cyan border border-accent-cyan/30":"text-text-muted hover:text-text-secondary border border-border-default"}`),S(M,e(w).label)}),k("click",J,()=>l(W,e(W)===e(w).key?null:e(w).key,!0)),c(T,J)}),n(u),n(s);var oe=p(s,2);ue(oe,21,()=>e(Bt),ve,(T,w)=>{const J=_(()=>e(h)?e(h)[e(w).key]:void 0),M=_(()=>e(w).schema),Je=_(()=>e(M).properties??{}),et=_(()=>e(M).required??[]);var B=Ca(),se=o(B),ye=o(se),K=o(ye),tt=o(K,!0);n(K);var _e=p(K,2),g=o(_e,!0);n(_e);var O=p(_e,2);{var he=V=>{var H=na(),rt=o(H,!0);n(H),m(()=>S(rt,e(w).description)),c(V,H)};y(O,V=>{e(w).description&&V(he)})}n(ye);var Ae=p(ye,2),wt=o(Ae);{var or=V=>{var H=oa();c(V,H)};y(wt,V=>{e(J)!==void 0&&V(or)})}var sr=p(wt,2);n(Ae),n(se);var ir=p(se,2);{var lr=V=>{var H=Sa(),rt=o(H);{var dr=ie=>{var Y=Lr(),we=Lt(Y);ue(we,17,()=>Object.entries(e(Je)),ve,(at,pr)=>{var kt=_(()=>Ur(e(pr),2));let ke=()=>e(kt)[0],St=()=>e(kt)[1];const N=_(()=>[e(w).key,ke()]),A=_(()=>e(J)?e(J)[ke()]:void 0),le=_(()=>De(St())),Me=_(()=>Ut(e(N))),Ct=_(()=>qt(e(N))),fr=_(()=>Et(e(N))),j=_(St),Ve=_(()=>e(N).join(".")),ee=_(()=>e(et).includes(ke())),Q=_(()=>e(G)[e(Ve)]);var nt=wa(),jt=o(nt),Ot=o(jt),ot=o(Ot),st=o(ot),xr=o(st,!0);n(st);var Nt=p(st,2);{var br=i=>{var a=sa(),d=o(a,!0);n(a),m(()=>S(d,e(Me).label)),c(i,a)},mr=i=>{var a=ia(),d=o(a,!0);n(a),m(z=>S(d,z),[()=>vt(ke())]),c(i,a)};y(Nt,i=>{e(Me)?.label?i(br):i(mr,!1)})}var gr=p(Nt,2);{var yr=i=>{var a=la();c(i,a)};y(gr,i=>{e(ee)&&i(yr)})}n(ot);var Jt=p(ot,2);{var _r=i=>{var a=ca(),d=o(a,!0);n(a),m(()=>S(d,e(Me)?.description??e(j).description)),c(i,a)};y(Jt,i=>{(e(j).description||e(Me)?.description)&&i(_r)})}var At=p(Jt,2);{var hr=i=>{var a=da(),d=o(a);Re(d);var z=p(d,2),Z=o(z,!0);n(z),n(a),m(()=>{Hr(d,e(A)===!0),S(Z,e(A)?"Enabled":"Disabled")}),k("change",d,L=>X(e(N),L.target.checked)),c(i,a)},wr=i=>{var a=va(),d=o(a);d.value=d.__value="";var z=p(d);ue(z,17,()=>e(j).enum,ve,(L,ze)=>{var F=ua(),I=o(F,!0);n(F);var ce={};m((Le,$e)=>{S(I,Le),ce!==(ce=$e)&&(F.value=(F.__value=$e)??"")},[()=>String(e(ze)),()=>String(e(ze))]),c(L,F)}),n(a);var Z;Dr(a),m(L=>{$(a,1,`px-3 py-2 rounded-lg border ${e(Q)?"border-red-500/50":"border-border-default"} bg-bg-tertiary
                                     text-sm text-text-primary focus:outline-none focus:border-accent-cyan transition-all`),Z!==(Z=L)&&(a.value=(a.__value=L)??"",Pr(a,L))},[()=>String(e(A)??"")]),k("change",a,L=>{pt(e(N),L.target.value,e(j)),ut(e(N),L.target.value,e(j),e(ee))}),c(i,a)},kr=i=>{var a=pa();Re(a),m(d=>{pe(a,d),Te(a,"min",e(j).minimum),Te(a,"max",e(j).maximum),$(a,1,`w-48 px-3 py-2 rounded-lg border ${e(Q)?"border-red-500/50":"border-border-default"} bg-bg-tertiary
                                     text-sm text-text-primary font-mono focus:outline-none focus:border-accent-cyan transition-all`)},[()=>e(A)!==void 0?String(e(A)):""]),k("input",a,d=>{pt(e(N),d.target.value,e(j)),me(e(N),d.target.value,e(j),e(ee))}),c(i,a)},Sr=i=>{var a=xa(),d=o(a),z=o(d);n(d);var Z=p(d,2);{var L=F=>{var I=fa();de(I),m(ce=>{pe(I,ce),$(I,1,`w-full mt-2 h-32 px-3 py-2 rounded-lg border ${e(Q)?"border-red-500/50":"border-border-default"} bg-bg-primary
                                         text-xs text-text-primary font-mono resize-y focus:outline-none focus:border-accent-cyan`)},[()=>JSON.stringify(e(A),null,2)]),k("input",I,ce=>{const Le=ce.target.value;try{const $e=JSON.parse(Le);X(e(N),$e)}catch{}me(e(N),Le,e(j),e(ee))}),c(F,I)},ze=_(()=>e(ne).has(e(Ve))&&e(A)&&typeof e(A)=="object");y(Z,F=>{e(ze)&&F(L)})}n(a),m((F,I)=>S(z,`${F??""} (${I??""} keys)`),[()=>e(ne).has(e(Ve))?"▼ Collapse":"▶ Expand",()=>e(A)?Object.keys(e(A)).length:0]),k("click",d,()=>ft(e(Ve))),c(i,a)},Cr=i=>{var a=ba();de(a),m(d=>{pe(a,d),$(a,1,`w-full h-24 px-3 py-2 rounded-lg border ${e(Q)?"border-red-500/50":"border-border-default"} bg-bg-primary
                                     text-xs text-text-primary font-mono resize-y focus:outline-none focus:border-accent-cyan`)},[()=>e(A)?JSON.stringify(e(A),null,2):"[]"]),k("input",a,d=>{const z=d.target.value;try{const Z=JSON.parse(z);X(e(N),Z)}catch{}me(e(N),z,e(j),e(ee))}),c(i,a)},jr=i=>{var a=ma();de(a),m(d=>{pe(a,d),$(a,1,`w-full h-24 px-3 py-2 rounded-lg border ${e(Q)?"border-red-500/50":"border-border-default"} bg-bg-tertiary
                                     text-sm text-text-primary font-mono resize-y focus:outline-none focus:border-accent-cyan`)},[()=>e(A)!==void 0?String(e(A)):""]),k("input",a,d=>{X(e(N),d.target.value),me(e(N),d.target.value,e(j),e(ee))}),c(i,a)},Or=i=>{var a=ga();Re(a),m(d=>{Te(a,"type",e(Ct)?"password":"text"),pe(a,d),Te(a,"placeholder",e(j).default!==void 0?`default: ${e(j).default}`:""),$(a,1,`w-full px-3 py-2 rounded-lg border ${e(Q)?"border-red-500/50":"border-border-default"} bg-bg-tertiary
                                     text-sm text-text-primary ${e(Ct)?"font-mono":""} focus:outline-none focus:border-accent-cyan transition-all`)},[()=>e(A)!==void 0?String(e(A)):""]),k("input",a,d=>{X(e(N),d.target.value),me(e(N),d.target.value,e(j),e(ee))}),c(i,a)};y(At,i=>{e(le)==="boolean"?i(hr):e(j).enum?i(wr,1):e(le)==="number"||e(le)==="integer"?i(kr,2):e(le)==="object"?i(Sr,3):e(le)==="array"?i(Cr,4):e(fr)?i(jr,5):i(Or,!1)})}var Mt=p(At,2);{var Nr=i=>{var a=ya(),d=o(a,!0);n(a),m(()=>S(d,e(Q))),c(i,a)};y(Mt,i=>{e(Q)&&i(Nr)})}var Vt=p(Mt,2),it=o(Vt),Jr=o(it,!0);n(it);var zt=p(it,2);{var Ar=i=>{var a=_a(),d=o(a);n(a),m(z=>S(d,`default: ${z??""}`),[()=>JSON.stringify(e(j).default)]),c(i,a)};y(zt,i=>{e(j).default!==void 0&&i(Ar)})}var Mr=p(zt,2);{var Vr=i=>{var a=ha();c(i,a)};y(Mr,i=>{e(j).nullable&&i(Vr)})}n(Vt),n(Ot),n(jt),n(nt),m(()=>{S(xr,ke()),S(Jr,e(le)??"any")}),c(at,nt)}),c(ie,Y)},ur=_(()=>Object.keys(e(Je)).length>0),vr=ie=>{var Y=ka();de(Y),m(we=>pe(Y,we),[()=>e(J)?JSON.stringify(e(J),null,2):"{}"]),k("input",Y,we=>{try{const at=JSON.parse(we.target.value);X([e(w).key],at)}catch{}}),c(ie,Y)};y(rt,ie=>{e(ur)?ie(dr):ie(vr,!1)})}n(H),c(V,H)},cr=_(()=>e(ne).has(e(w).key));y(ir,V=>{e(cr)&&V(lr)})}n(B),m(V=>{S(tt,e(w).key),S(g,e(w).label),$(sr,0,`w-4 h-4 text-text-muted transition-transform ${V??""}`)},[()=>e(ne).has(e(w).key)?"rotate-180":""]),k("click",se,()=>ft(e(w).key)),c(T,B)}),n(oe),m(()=>$(x,1,`px-2.5 py-1 rounded-md text-xs transition-all
                   ${e(W)===null?"bg-accent-cyan/20 text-accent-cyan border border-accent-cyan/30":"text-text-muted hover:text-text-secondary border border-border-default"}`)),lt(f,()=>e(Oe),T=>l(Oe,T)),k("click",x,()=>l(W,null)),c(t,r)},rr=t=>{var r=Oa(),s=p(o(r),2);de(s),n(r),k("input",s,()=>l(ae,!0)),lt(s,()=>e(U),f=>l(U,f)),c(t,r)};y(ht,t=>{Ce.state.status!=="connected"?t(Xt):e(te)&&!e(h)?t(Yt,1):e(E)==="raw"?t(er,2):e(h)&&e(re)?t(tr,3):e(h)&&t(rr,4)})}var ar=p(ht,2);{var nr=t=>{var r=La(),s=o(r),f=o(s),u=o(f);{var x=g=>{var O=Na();c(g,O)};y(u,g=>{e(Ke)&&g(x)})}var b=p(u,2);{var oe=g=>{var O=Ja(),he=o(O);n(O),m(()=>S(he,`⚠ ${e(He)??""} validation error${e(He)!==1?"s":""}`)),c(g,O)};y(b,g=>{e(Ie)&&g(oe)})}var T=p(b,2);{var w=g=>{var O=Aa(),he=o(O);n(O),m(Ae=>S(he,`hash: ${Ae??""}`),[()=>e(q).slice(0,12)]),c(g,O)};y(T,g=>{e(q)&&g(w)})}n(f);var J=p(f,2),M=o(J),Je=o(M);{var et=g=>{var O=Ma();c(g,O)};y(Je,g=>{e(fe)&&g(et)})}Fe(),n(M);var B=p(M,2),se=o(B);{var ye=g=>{var O=Va();c(g,O)};y(se,g=>{e(xe)&&g(ye)})}Fe(),n(B);var K=p(B,2),tt=o(K);{var _e=g=>{var O=za();c(g,O)};y(tt,g=>{e(ge)&&g(_e)})}Fe(),n(K),n(J),n(s),n(r),m(()=>{M.disabled=e(fe)||!e(Ke)||e(Ie),$(M,1,`px-4 py-2 rounded-lg text-sm font-medium border transition-all
                     ${e(Ke)&&!e(Ie)?"bg-accent-cyan/20 border-accent-cyan/30 text-accent-cyan hover:bg-accent-cyan/30 glow-cyan":"bg-bg-tertiary border-border-default text-text-muted cursor-not-allowed opacity-50"}`),B.disabled=e(xe),K.disabled=e(ge)}),k("click",M,Ht),k("click",B,It),k("click",K,Dt),c(t,r)};y(ar,t=>{e(h)&&Ce.state.status==="connected"&&t(nr)})}n(xt),n(Qe),m(()=>{$(Ye,1,`px-3 py-1.5 text-xs font-medium transition-all
                   ${e(E)==="form"?"bg-accent-cyan/20 text-accent-cyan":"text-text-muted hover:text-text-secondary"}`),$(gt,1,`px-3 py-1.5 text-xs font-medium transition-all
                   ${e(E)==="raw"?"bg-accent-purple/20 text-accent-purple":"text-text-muted hover:text-text-secondary"}`),Ne.disabled=e(te)||Ce.state.status!=="connected"}),k("click",Ye,()=>{l(E,"form"),e(h)&&l(U,JSON.stringify(e(h),null,2),!0)}),k("click",gt,()=>{l(E,"raw"),e(h)&&l(U,JSON.stringify(e(h),null,2),!0)}),k("click",Ne,()=>Ge()),c($t,Qe),Tr()}zr(["click","input","change"]);export{Ia as component};
