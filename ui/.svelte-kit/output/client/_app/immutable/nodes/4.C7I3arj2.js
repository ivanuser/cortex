import{d as Is,a as y,b as l,f as i,s as f,c as Fe}from"../chunks/B2A7gHtL.js";import{p as Ks,s as H,a as Ye,u as yt,d,g as e,b as kt,t as h,c as Ns,e as Qs,h as s,f as o,$ as Ws,r as t,n as De,i as te,j as Zt,o as Gs}from"../chunks/qR_TM3YX.js";import{i as _}from"../chunks/DpBBTLWw.js";import{g as Js,a as ze,s as S,e as Ze,i as es,r as ts,b as ss}from"../chunks/BhtVncI_.js";import{h as Xs}from"../chunks/CXQ1lKJR.js";import{s as Ys}from"../chunks/tr5b7CMr.js";import{b as as}from"../chunks/nnazh41B.js";import{i as Se,s as $e}from"../chunks/DVP7Iy08.js";import{g as Zs}from"../chunks/Be_uRYmX.js";var ea=i("<span> </span>"),ta=i('<span class="ml-1 px-1.5 py-0.5 rounded-full bg-accent-pink/20 text-accent-pink text-[10px] font-bold svelte-19gsovj"> </span>'),sa=i('<span class="ml-1 px-1.5 py-0.5 rounded-full bg-accent-green/20 text-accent-green text-[10px] font-bold svelte-19gsovj"> </span>'),aa=i('<div class="flex flex-col items-center justify-center h-full text-center svelte-19gsovj"><div class="w-16 h-16 rounded-2xl bg-bg-tertiary border border-border-default flex items-center justify-center mb-4 svelte-19gsovj"><svg class="w-8 h-8 text-text-muted svelte-19gsovj" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 5.636a9 9 0 010 12.728m-2.829-2.829a5 5 0 000-7.07m-4.243 9.9a9 9 0 01-4.242-1.757" class="svelte-19gsovj"></path></svg></div> <p class="text-text-muted text-sm svelte-19gsovj">Connect to the gateway to manage exec approvals.</p></div>'),oa=i('<span class="text-accent-amber svelte-19gsovj"> </span>'),ra=i('<div class="rounded-xl border border-border-default bg-bg-secondary/50 p-8 text-center svelte-19gsovj"><div class="w-12 h-12 rounded-2xl bg-bg-tertiary border border-border-default flex items-center justify-center mx-auto mb-3 svelte-19gsovj"><svg class="w-6 h-6 text-accent-green svelte-19gsovj" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" class="svelte-19gsovj"></path></svg></div> <p class="text-text-muted text-sm svelte-19gsovj">No pending approval requests</p> <p class="text-text-muted text-xs mt-1 svelte-19gsovj">Requests will appear here in real-time when agents need permission</p></div>'),la=i('<span class="flex items-center gap-1 font-mono svelte-19gsovj"> </span>'),va=i('<span class="flex items-center gap-1 svelte-19gsovj"> </span>'),na=i('<span class="flex items-center gap-1 svelte-19gsovj"> </span>'),ia=i('<span class="font-mono svelte-19gsovj"> </span>'),da=i('<span class="px-1.5 py-0.5 rounded bg-accent-purple/10 text-accent-purple border border-accent-purple/20 font-mono svelte-19gsovj"> </span>'),ca=Fe('<svg class="w-4 h-4 animate-spin svelte-19gsovj" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" class="svelte-19gsovj"></path></svg>'),ua=Fe('<svg class="w-4 h-4 svelte-19gsovj" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" class="svelte-19gsovj"></path></svg>'),ga=i(`<div><div class="h-1 bg-bg-tertiary svelte-19gsovj"><div></div></div> <div class="p-4 svelte-19gsovj"><div class="flex items-start justify-between gap-4 mb-3 svelte-19gsovj"><div class="min-w-0 flex-1 svelte-19gsovj"><div class="flex items-center gap-2 mb-1 svelte-19gsovj"><svg class="w-4 h-4 text-accent-amber flex-shrink-0 svelte-19gsovj" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" class="svelte-19gsovj"></path></svg> <code class="text-sm font-mono text-accent-cyan break-all svelte-19gsovj"> </code></div></div> <div><svg class="w-3.5 h-3.5 svelte-19gsovj" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" class="svelte-19gsovj"></path></svg> </div></div> <div class="flex flex-wrap items-center gap-x-4 gap-y-1.5 text-xs text-text-muted mb-4 svelte-19gsovj"><!> <!> <!> <!> <!> <span class="font-mono text-text-muted/60 svelte-19gsovj"> </span></div> <div class="flex items-center gap-2 svelte-19gsovj"><button class="flex items-center gap-1.5 px-4 py-2 text-sm font-medium rounded-lg transition-all
                          bg-accent-green/15 text-accent-green border border-accent-green/30
                          hover:bg-accent-green/25 hover:border-accent-green/50 hover:shadow-[0_0_12px_rgba(0,255,136,0.15)]
                          disabled:opacity-40 disabled:cursor-not-allowed svelte-19gsovj"><!> Approve</button> <button class="flex items-center gap-1.5 px-4 py-2 text-sm font-medium rounded-lg transition-all
                          bg-accent-pink/15 text-accent-pink border border-accent-pink/30
                          hover:bg-accent-pink/25 hover:border-accent-pink/50 hover:shadow-[0_0_12px_rgba(244,63,158,0.15)]
                          disabled:opacity-40 disabled:cursor-not-allowed svelte-19gsovj"><svg class="w-4 h-4 svelte-19gsovj" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" class="svelte-19gsovj"></path></svg> Deny</button></div></div></div>`),pa=i('<div class="space-y-3 svelte-19gsovj"></div>'),xa=i('<div class="rounded-xl border border-border-default bg-bg-secondary/50 p-6 text-center svelte-19gsovj"><p class="text-text-muted text-xs svelte-19gsovj">No resolved requests yet this session</p></div>'),fa=Fe('<svg class="w-3.5 h-3.5 svelte-19gsovj" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" class="svelte-19gsovj"></path></svg>'),_a=Fe('<svg class="w-3.5 h-3.5 svelte-19gsovj" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" class="svelte-19gsovj"></path></svg>'),ma=i('<div class="flex items-center gap-3 rounded-lg border border-border-default bg-bg-secondary/30 px-4 py-2.5 text-sm svelte-19gsovj"><span><!></span> <code class="text-xs font-mono text-text-primary truncate flex-1 svelte-19gsovj"> </code> <span> </span> <span class="text-xs text-text-muted font-mono flex-shrink-0 svelte-19gsovj"> </span></div>'),ba=i('<div class="space-y-2 svelte-19gsovj"></div>'),ja=i('<div class="space-y-6 svelte-19gsovj"><div class="svelte-19gsovj"><h2 class="text-sm font-semibold uppercase tracking-wider text-text-muted mb-4 flex items-center gap-2 svelte-19gsovj"><span></span> Pending Approvals <!></h2> <!></div> <div class="svelte-19gsovj"><h2 class="text-sm font-semibold uppercase tracking-wider text-text-muted mb-4 flex items-center gap-2 svelte-19gsovj"><svg class="w-4 h-4 svelte-19gsovj" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" class="svelte-19gsovj"></path></svg> Recent Decisions</h2> <!></div></div>'),ha=i('<p class="text-xs text-text-muted font-mono svelte-19gsovj"> </p>'),ya=i('<p class="text-xs text-text-muted svelte-19gsovj">Per-agent command allowlists and approval policies</p>'),ka=i('<span class="flex items-center gap-1.5 text-xs text-accent-amber svelte-19gsovj"><span class="w-2 h-2 rounded-full bg-accent-amber animate-pulse svelte-19gsovj"></span> Unsaved</span>'),wa=Fe('<svg class="w-3.5 h-3.5 animate-spin svelte-19gsovj" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" class="svelte-19gsovj"></path></svg>'),Aa=Fe('<svg class="w-3.5 h-3.5 svelte-19gsovj" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" class="svelte-19gsovj"></path></svg>'),Ma=i('<div class="rounded-xl border border-border-default bg-bg-secondary/50 p-8 text-center svelte-19gsovj"><div class="w-12 h-12 rounded-2xl bg-bg-tertiary border border-border-default flex items-center justify-center mx-auto mb-3 svelte-19gsovj"><svg class="w-6 h-6 text-text-muted svelte-19gsovj" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" class="svelte-19gsovj"></path></svg></div> <p class="text-text-muted text-sm mb-3 svelte-19gsovj">Load exec approvals to view and edit allowlists</p> <button class="px-4 py-2 text-sm font-medium rounded-lg bg-accent-cyan/15 text-accent-cyan border border-accent-cyan/30 hover:bg-accent-cyan/25 transition-all svelte-19gsovj">Load Approvals</button></div>'),Ca=i('<div class="space-y-4 animate-pulse svelte-19gsovj"><div class="h-10 bg-bg-tertiary rounded-lg svelte-19gsovj"></div> <div class="h-32 bg-bg-tertiary rounded-lg svelte-19gsovj"></div> <div class="h-48 bg-bg-tertiary rounded-lg svelte-19gsovj"></div></div>'),qa=i("<span> </span>"),Ba=i('<button><span class="font-mono svelte-19gsovj"> </span> <!></button>'),Da=i('<div class="rounded-xl border border-border-default bg-bg-secondary/50 overflow-hidden svelte-19gsovj"><div class="px-4 py-3 border-b border-border-default bg-bg-tertiary/50 svelte-19gsovj"><h3 class="text-sm font-semibold text-text-primary svelte-19gsovj">Default Policy</h3> <p class="text-xs text-text-muted mt-0.5 svelte-19gsovj">These settings apply to all agents unless overridden per-agent.</p></div> <div class="divide-y divide-border-default svelte-19gsovj"><div class="flex items-center justify-between px-4 py-3 gap-4 svelte-19gsovj"><div class="svelte-19gsovj"><div class="text-sm font-medium text-text-primary svelte-19gsovj">Security</div> <div class="text-xs text-text-muted mt-0.5 svelte-19gsovj">Default exec security mode</div></div> <select class="px-3 py-1.5 text-sm bg-bg-input border border-border-default rounded-lg text-text-primary focus:outline-none focus:border-accent-cyan/50 svelte-19gsovj"><option class="svelte-19gsovj">Deny</option><option class="svelte-19gsovj">Allowlist</option><option class="svelte-19gsovj">Full</option></select></div> <div class="flex items-center justify-between px-4 py-3 gap-4 svelte-19gsovj"><div class="svelte-19gsovj"><div class="text-sm font-medium text-text-primary svelte-19gsovj">Ask</div> <div class="text-xs text-text-muted mt-0.5 svelte-19gsovj">When to prompt for approval</div></div> <select class="px-3 py-1.5 text-sm bg-bg-input border border-border-default rounded-lg text-text-primary focus:outline-none focus:border-accent-cyan/50 svelte-19gsovj"><option class="svelte-19gsovj">Off</option><option class="svelte-19gsovj">On miss</option><option class="svelte-19gsovj">Always</option></select></div> <div class="flex items-center justify-between px-4 py-3 gap-4 svelte-19gsovj"><div class="svelte-19gsovj"><div class="text-sm font-medium text-text-primary svelte-19gsovj">Ask Fallback</div> <div class="text-xs text-text-muted mt-0.5 svelte-19gsovj">Applied when the UI prompt is unavailable</div></div> <select class="px-3 py-1.5 text-sm bg-bg-input border border-border-default rounded-lg text-text-primary focus:outline-none focus:border-accent-cyan/50 svelte-19gsovj"><option class="svelte-19gsovj">Deny</option><option class="svelte-19gsovj">Allowlist</option><option class="svelte-19gsovj">Full</option></select></div> <div class="flex items-center justify-between px-4 py-3 gap-4 svelte-19gsovj"><div class="svelte-19gsovj"><div class="text-sm font-medium text-text-primary svelte-19gsovj">Auto-allow skill CLIs</div> <div class="text-xs text-text-muted mt-0.5 svelte-19gsovj">Automatically allow executables from installed skills</div></div> <button><span></span></button></div></div></div>'),Sa=i('<span class="text-text-muted font-normal svelte-19gsovj"> </span>'),$a=i('<div class="p-6 text-center svelte-19gsovj"><p class="text-text-muted text-sm svelte-19gsovj">No allowlist entries for this scope</p></div>'),Fa=i('<div class="flex items-center gap-2 svelte-19gsovj"><input type="text" class="flex-1 px-2 py-1 text-sm font-mono bg-bg-input border border-accent-cyan/50 rounded text-text-primary focus:outline-none focus:ring-1 focus:ring-accent-cyan/30 svelte-19gsovj"/> <button class="p-1 text-accent-green hover:bg-accent-green/10 rounded transition-colors svelte-19gsovj" title="Save"><svg class="w-4 h-4 svelte-19gsovj" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" class="svelte-19gsovj"></path></svg></button> <button class="p-1 text-text-muted hover:bg-bg-hover rounded transition-colors svelte-19gsovj" title="Cancel"><svg class="w-4 h-4 svelte-19gsovj" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" class="svelte-19gsovj"></path></svg></button></div>'),Pa=i('<div class="flex items-center gap-2 svelte-19gsovj"><code class="text-sm font-mono text-accent-cyan cursor-pointer hover:underline svelte-19gsovj" title="Click to edit"> </code></div>'),La=i('<span class="flex items-center gap-1 svelte-19gsovj"><svg class="w-3 h-3 svelte-19gsovj" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" class="svelte-19gsovj"></path></svg> </span>'),Ha=i('<span class="text-text-muted/50 svelte-19gsovj">never used</span>'),Ra=i('<span class="font-mono text-text-muted/70 truncate max-w-xs svelte-19gsovj"> </span>'),Ea=i('<div class="mt-1 text-xs font-mono text-text-muted/60 truncate max-w-lg svelte-19gsovj"> </div>'),Ua=i('<button class="p-1.5 text-text-muted hover:text-accent-cyan hover:bg-accent-cyan/10 rounded-lg transition-colors svelte-19gsovj" title="Edit pattern"><svg class="w-3.5 h-3.5 svelte-19gsovj" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" class="svelte-19gsovj"></path></svg></button>'),Ta=i('<div class="px-4 py-3 hover:bg-bg-hover/30 transition-colors group svelte-19gsovj"><div class="flex items-start justify-between gap-3 svelte-19gsovj"><div class="flex-1 min-w-0 svelte-19gsovj"><!> <div class="flex flex-wrap items-center gap-x-4 gap-y-1 mt-1.5 text-xs text-text-muted svelte-19gsovj"><!> <!></div> <!></div> <div class="flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0 svelte-19gsovj"><!> <button class="p-1.5 text-text-muted hover:text-accent-pink hover:bg-accent-pink/10 rounded-lg transition-colors svelte-19gsovj" title="Remove pattern"><svg class="w-3.5 h-3.5 svelte-19gsovj" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" class="svelte-19gsovj"></path></svg></button></div></div></div>'),za=i('<div class="divide-y divide-border-default svelte-19gsovj"></div>'),Oa=i('<div class="rounded-xl border border-border-default bg-bg-secondary/50 overflow-hidden svelte-19gsovj"><div class="px-4 py-3 border-b border-border-default bg-bg-tertiary/50 svelte-19gsovj"><h3 class="text-sm font-semibold text-text-primary svelte-19gsovj">Policy Overrides ‚Äî <span class="font-mono text-accent-cyan svelte-19gsovj"> </span></h3> <p class="text-xs text-text-muted mt-0.5 svelte-19gsovj">Leave as "Use default" to inherit from defaults above.</p></div> <div class="divide-y divide-border-default svelte-19gsovj"><div class="flex items-center justify-between px-4 py-3 gap-4 svelte-19gsovj"><div class="svelte-19gsovj"><div class="text-sm font-medium text-text-primary svelte-19gsovj">Security</div> <div class="text-xs text-text-muted mt-0.5 svelte-19gsovj"> </div></div> <select class="px-3 py-1.5 text-sm bg-bg-input border border-border-default rounded-lg text-text-primary focus:outline-none focus:border-accent-cyan/50 svelte-19gsovj"><option class="svelte-19gsovj"> </option><option class="svelte-19gsovj">Deny</option><option class="svelte-19gsovj">Allowlist</option><option class="svelte-19gsovj">Full</option></select></div> <div class="flex items-center justify-between px-4 py-3 gap-4 svelte-19gsovj"><div class="svelte-19gsovj"><div class="text-sm font-medium text-text-primary svelte-19gsovj">Ask</div> <div class="text-xs text-text-muted mt-0.5 svelte-19gsovj"> </div></div> <select class="px-3 py-1.5 text-sm bg-bg-input border border-border-default rounded-lg text-text-primary focus:outline-none focus:border-accent-cyan/50 svelte-19gsovj"><option class="svelte-19gsovj"> </option><option class="svelte-19gsovj">Off</option><option class="svelte-19gsovj">On miss</option><option class="svelte-19gsovj">Always</option></select></div> <div class="flex items-center justify-between px-4 py-3 gap-4 svelte-19gsovj"><div class="svelte-19gsovj"><div class="text-sm font-medium text-text-primary svelte-19gsovj">Ask Fallback</div> <div class="text-xs text-text-muted mt-0.5 svelte-19gsovj"> </div></div> <select class="px-3 py-1.5 text-sm bg-bg-input border border-border-default rounded-lg text-text-primary focus:outline-none focus:border-accent-cyan/50 svelte-19gsovj"><option class="svelte-19gsovj"> </option><option class="svelte-19gsovj">Deny</option><option class="svelte-19gsovj">Allowlist</option><option class="svelte-19gsovj">Full</option></select></div></div></div> <div class="rounded-xl border border-border-default bg-bg-secondary/50 overflow-hidden svelte-19gsovj"><div class="px-4 py-3 border-b border-border-default bg-bg-tertiary/50 flex items-center justify-between svelte-19gsovj"><div class="svelte-19gsovj"><h3 class="text-sm font-semibold text-text-primary svelte-19gsovj">Allowlist Patterns <!></h3> <p class="text-xs text-text-muted mt-0.5 svelte-19gsovj">Case-insensitive glob patterns. Matching commands are auto-approved.</p></div></div> <!> <div class="px-4 py-3 border-t border-border-default bg-bg-tertiary/30 svelte-19gsovj"><div class="flex items-center gap-2 svelte-19gsovj"><input type="text" placeholder="Add new pattern (e.g., /usr/bin/git, **, cat /home/**)" class="flex-1 px-3 py-1.5 text-sm font-mono bg-bg-input border border-border-default rounded-lg text-text-primary placeholder-text-muted/50 focus:outline-none focus:border-accent-green/50 focus:ring-1 focus:ring-accent-green/20 svelte-19gsovj"/> <button><svg class="w-3.5 h-3.5 svelte-19gsovj" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" class="svelte-19gsovj"></path></svg> Add</button></div></div></div>',1),Va=i('<div class="flex flex-wrap items-center gap-2 svelte-19gsovj"><span class="text-xs text-text-muted uppercase tracking-wider font-semibold mr-1 svelte-19gsovj">Scope</span> <button>‚öôÔ∏è Defaults</button> <!></div> <!> <div class="rounded-xl border border-border-default bg-bg-secondary/50 p-4 svelte-19gsovj"><h3 class="text-xs font-semibold text-text-muted uppercase tracking-wider mb-2 svelte-19gsovj">How it works</h3> <ul class="text-xs text-text-muted space-y-1.5 svelte-19gsovj"><li class="flex items-start gap-2 svelte-19gsovj"><span class="text-accent-green mt-0.5 svelte-19gsovj">‚Ä¢</span> <span class="svelte-19gsovj"><strong class="text-text-secondary svelte-19gsovj">Defaults</strong> apply to all agents unless overridden per-scope.</span></li> <li class="flex items-start gap-2 svelte-19gsovj"><span class="text-accent-green mt-0.5 svelte-19gsovj">‚Ä¢</span> <span class="svelte-19gsovj"><strong class="text-text-secondary svelte-19gsovj">* (global)</strong> matches all agents. Per-agent scopes (e.g., "main") override global.</span></li> <li class="flex items-start gap-2 svelte-19gsovj"><span class="text-accent-green mt-0.5 svelte-19gsovj">‚Ä¢</span> <span class="svelte-19gsovj">Allowlist patterns use case-insensitive <code class="text-accent-cyan bg-bg-tertiary px-1 rounded svelte-19gsovj">glob</code> matching (<code class="text-accent-cyan bg-bg-tertiary px-1 rounded svelte-19gsovj">*</code> = single segment, <code class="text-accent-cyan bg-bg-tertiary px-1 rounded svelte-19gsovj">**</code> = any depth).</span></li> <li class="flex items-start gap-2 svelte-19gsovj"><span class="text-accent-green mt-0.5 svelte-19gsovj">‚Ä¢</span> <span class="svelte-19gsovj">Commands not matching any pattern trigger an approval request in the Queue tab.</span></li> <li class="flex items-start gap-2 svelte-19gsovj"><span class="text-accent-green mt-0.5 svelte-19gsovj">‚Ä¢</span> <span class="svelte-19gsovj">Changes take effect immediately after saving.</span></li></ul></div>',1),Ia=i('<div class="space-y-6 svelte-19gsovj"><div class="flex items-center justify-between flex-wrap gap-3 svelte-19gsovj"><div class="svelte-19gsovj"><h2 class="text-sm font-semibold uppercase tracking-wider text-text-muted mb-1 svelte-19gsovj">Exec Approvals Configuration</h2> <!></div> <div class="flex items-center gap-2 svelte-19gsovj"><!> <button class="flex items-center gap-1.5 px-3 py-1.5 text-xs bg-bg-tertiary border border-border-default rounded-lg text-text-secondary hover:text-accent-cyan hover:border-accent-cyan/30 transition-all disabled:opacity-40 svelte-19gsovj"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" class="svelte-19gsovj"></path></svg> </button> <button><!> Save</button></div></div> <!></div>'),Ka=i('<div class="h-full flex flex-col overflow-hidden svelte-19gsovj"><div class="flex-shrink-0 p-4 md:p-6 pb-4 border-b border-border-default svelte-19gsovj"><div class="flex items-start justify-between gap-4 flex-wrap svelte-19gsovj"><div class="svelte-19gsovj"><div class="flex items-center gap-3 svelte-19gsovj"><div style="background: linear-gradient(135deg, rgba(0, 229, 255, 0.1), rgba(124, 77, 255, 0.1));"><svg class="w-5 h-5 text-accent-cyan svelte-19gsovj" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" class="svelte-19gsovj"></path></svg> <!></div> <div class="svelte-19gsovj"><h1 class="text-xl font-bold text-text-primary glow-text-cyan svelte-19gsovj">Exec Approvals</h1> <p class="text-sm text-text-muted svelte-19gsovj">Real-time command approval queue and allowlist management</p></div></div></div> <div class="flex items-center bg-bg-tertiary rounded-lg border border-border-default p-0.5 svelte-19gsovj"><button><svg class="w-4 h-4 svelte-19gsovj" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" class="svelte-19gsovj"></path></svg> Queue <!></button> <button><svg class="w-4 h-4 svelte-19gsovj" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" class="svelte-19gsovj"></path></svg> Allowlist <!></button></div></div></div> <div class="flex-1 overflow-y-auto p-4 md:p-6 svelte-19gsovj"><!></div></div>');function to(os,rs){Ks(rs,!0);const et=Js(),je=Zs();let I=H(Ye([])),he=H(Ye([])),ye=H(Ye(new Set)),Oe=H(!1),pe=H("queue"),tt=H(null),v=H(null),wt=H(""),re=H(!1),Pe=H(!1),ke=H(!1),u=H("__defaults__"),we=H(""),Le=H(null),Ae=H(""),He=H(Ye(Date.now())),xe=te(()=>e(I).length),At=te(()=>[...e(I)].sort((a,r)=>a.expiresAtMs-r.expiresAtMs)),ls=te(()=>e(v)?.agents?Object.keys(e(v).agents).sort((a,r)=>a==="*"?-1:r==="*"?1:a.localeCompare(r)):[]),D=te(()=>{const a=e(v)?.defaults??{};return{security:a.security??"deny",ask:a.ask??"on-miss",askFallback:a.askFallback??"deny",autoAllowSkills:a.autoAllowSkills??!1}}),Q=te(()=>e(u)==="__defaults__"||!e(v)?.agents?null:e(v).agents[e(u)]??null),Ve=te(()=>e(Q)?.allowlist?e(Q).allowlist:[]),Mt=te(()=>e(v)?.agents?Object.values(e(v).agents).reduce((a,r)=>a+(r.allowlist?.length??0),0):0);async function Ct(a,r){if(!e(ye).has(a)){d(ye,new Set([...e(ye),a]),!0);try{await ze.call("exec.approval.resolve",{id:a,decision:r}),d(I,e(I).filter(n=>n.id!==a),!0),je.success(r==="approve"?"Approved":"Denied",`Exec request ${a.slice(0,8)}‚Ä¶ ${r==="approve"?"approved":"denied"}`)}catch(n){je.error("Resolution failed",String(n))}finally{const n=new Set(e(ye));n.delete(a),d(ye,n,!0)}}}function vs(){const a=Date.now(),r=e(I).filter(n=>n.expiresAtMs<a);if(r.length>0){d(I,e(I).filter(n=>n.expiresAtMs>=a),!0);for(const n of r)d(he,[{id:n.id,decision:"deny",request:n.request,resolvedAtMs:a,command:n.request.command},...e(he)].slice(0,50),!0)}}function ns(a){const r=a-e(He);if(r<=0)return"Expired";const n=Math.floor(r/1e3),k=Math.floor(n/60);return k>0?`${k}m ${n%60}s`:`${n}s`}function is(a,r){const n=r-a,k=r-e(He);return n<=0?0:Math.max(0,Math.min(100,k/n*100))}function ds(a){const r=a-e(He);return r<=1e4?"text-accent-pink":r<=3e4?"text-accent-amber":"text-accent-green"}function cs(a){const r=a-e(He);return r<=1e4?"bg-accent-pink":r<=3e4?"bg-accent-amber":"bg-accent-green"}function us(a){return new Date(a).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"})}function gs(a){const r=Date.now()-a;return r<6e4?"just now":r<36e5?`${Math.floor(r/6e4)}m ago`:r<864e5?`${Math.floor(r/36e5)}h ago`:`${Math.floor(r/864e5)}d ago`}async function Ie(){d(re,!0);try{const a=await ze.call("exec.approvals.get",{});d(tt,a,!0),d(v,structuredClone(a.file??{}),!0),d(wt,a.hash??"",!0),d(ke,!1),e(u)!=="__defaults__"&&!e(v)?.agents?.[e(u)]&&d(u,"__defaults__")}catch(a){je.error("Failed to load exec approvals",String(a)),d(v,null)}finally{d(re,!1)}}async function ps(){if(!(e(Pe)||!e(v))){d(Pe,!0);try{await ze.call("exec.approvals.set",{file:e(v),baseHash:e(wt)}),d(ke,!1),await Ie(),je.success("Saved","Exec approvals updated")}catch(a){je.error("Save failed",String(a))}finally{d(Pe,!1)}}}function Me(){d(ke,!0),d(v,{...e(v)},!0)}function Ke(a,r){e(v)&&(e(v).defaults||(e(v).defaults={}),e(v).defaults[a]=r,Me())}function st(a,r,n){e(v)&&(e(v).agents||(e(v).agents={}),e(v).agents[a]||(e(v).agents[a]={}),e(v).agents[a][r]=n,Me())}function at(a,r){e(v)?.agents?.[a]&&(delete e(v).agents[a][r],Me())}function qt(){const a=e(we).trim();!a||e(u)==="__defaults__"||!e(v)||(e(v).agents||(e(v).agents={}),e(v).agents[e(u)]||(e(v).agents[e(u)]={}),e(v).agents[e(u)].allowlist||(e(v).agents[e(u)].allowlist=[]),e(v).agents[e(u)].allowlist.push({pattern:a}),d(we,""),Me())}function xs(a){e(u)==="__defaults__"||!e(v)?.agents?.[e(u)]?.allowlist||(e(v).agents[e(u)].allowlist.splice(a,1),e(v).agents[e(u)].allowlist.length===0&&delete e(v).agents[e(u)].allowlist,Me())}function Bt(a,r){d(Le,a,!0),d(Ae,r,!0)}function Dt(a){if(e(u)==="__defaults__"||!e(v)?.agents?.[e(u)]?.allowlist)return;const r=e(Ae).trim();r&&(e(v).agents[e(u)].allowlist[a].pattern=r,Me()),d(Le,null),d(Ae,"")}function St(){d(Le,null),d(Ae,"")}yt(()=>{const a=setInterval(()=>{d(He,Date.now(),!0),vs()},1e3);return()=>clearInterval(a)}),yt(()=>{if(et.state.status!=="connected")return;const a=ze.on("exec.approval.requested",n=>{const k=n;e(I).find(le=>le.id===k.id)||(d(I,[...e(I),k],!0),d(Oe,!0),setTimeout(()=>{d(Oe,!1)},2e3),je.warning("Approval requested",`${k.request?.command??"Unknown command"}`,8e3))}),r=ze.on("exec.approval.resolved",n=>{const k=n,le=k.decision==="approve"?"approve":"deny";d(I,e(I).filter(Ee=>Ee.id!==k.id),!0),d(he,[{id:k.id,decision:le,request:k.request,resolvedAtMs:Date.now(),command:k.request?.command},...e(he)].slice(0,50),!0)});return()=>{a(),r()}}),yt(()=>{e(pe)==="allowlist"&&et.state.status==="connected"&&!e(v)&&!e(re)&&kt(()=>Ie())});var ot=Ka();Xs("19gsovj",a=>{Qs(()=>{Ws.title="Exec Approvals ‚Äî Cortex"})});var rt=s(ot),$t=s(rt),lt=s($t),Ft=s(lt),vt=s(Ft),fs=o(s(vt),2);{var _s=a=>{var r=ea(),n=s(r,!0);t(r),h(()=>{S(r,1,`absolute -top-1.5 -right-1.5 w-5 h-5 rounded-full bg-accent-pink text-white text-[10px] font-bold flex items-center justify-center border-2 border-bg-primary ${e(Oe)?"animate-bounce":""}`,"svelte-19gsovj"),f(n,e(xe))}),l(a,r)};_(fs,a=>{e(xe)>0&&a(_s)})}t(vt),De(2),t(Ft),t(lt);var Pt=o(lt,2),Re=s(Pt),ms=o(s(Re),2);{var bs=a=>{var r=ta(),n=s(r,!0);t(r),h(()=>f(n,e(xe))),l(a,r)};_(ms,a=>{e(xe)>0&&a(bs)})}t(Re);var Ne=o(Re,2),js=o(s(Ne),2);{var hs=a=>{var r=sa(),n=s(r,!0);t(r),h(()=>f(n,e(Mt))),l(a,r)};_(js,a=>{e(Mt)>0&&a(hs)})}t(Ne),t(Pt),t($t),t(rt);var Lt=o(rt,2),ys=s(Lt);{var ks=a=>{var r=aa();l(a,r)},ws=a=>{var r=ja(),n=s(r),k=s(n),le=s(k),Ee=o(le,2);{var nt=B=>{var $=oa(),K=s($);t($),h(()=>f(K,`(${e(xe)??""})`)),l(B,$)};_(Ee,B=>{e(xe)>0&&B(nt)})}t(k);var Qe=o(k,2);{var We=B=>{var $=ra();l(B,$)},it=B=>{var $=pa();Ze($,21,()=>e(At),K=>K.id,(K,g)=>{const ne=te(()=>is(e(g).createdAtMs,e(g).expiresAtMs)),X=te(()=>e(ye).has(e(g).id));var ie=ga(),p=s(ie),b=s(p);t(p);var T=o(p,2),se=s(T),Y=s(se),Ce=s(Y),_e=o(s(Ce),2),Ue=s(_e,!0);t(_e),t(Ce),t(Y);var A=o(Y,2),M=o(s(A));t(A),t(se);var O=o(se,2),P=s(O);{var L=c=>{var x=la(),C=s(x);t(x),h(()=>f(C,`üìÅ ${e(g).request.cwd??""}`)),l(c,x)};_(P,c=>{e(g).request.cwd&&c(L)})}var W=o(P,2);{var ae=c=>{var x=va(),C=s(x);t(x),h(()=>f(C,`üñ•Ô∏è ${e(g).request.host??""}`)),l(c,x)};_(W,c=>{e(g).request.host&&c(ae)})}var Z=o(W,2);{var N=c=>{var x=na(),C=s(x);t(x),h(()=>f(C,`ü§ñ ${e(g).request.agentId??""}`)),l(c,x)};_(Z,c=>{e(g).request.agentId&&c(N)})}var R=o(Z,2);{var z=c=>{var x=ia(),C=s(x);t(x),h(E=>f(C,`üîë ${E??""}`),[()=>e(g).request.sessionKey.length>20?e(g).request.sessionKey.slice(0,20)+"‚Ä¶":e(g).request.sessionKey]),l(c,x)};_(R,c=>{e(g).request.sessionKey&&c(z)})}var de=o(R,2);{var V=c=>{var x=da(),C=s(x,!0);t(x),h(()=>f(C,e(g).request.security)),l(c,x)};_(de,c=>{e(g).request.security&&c(V)})}var G=o(de,2),qe=s(G);t(G),t(O);var ee=o(O,2),F=s(ee),ce=s(F);{var ue=c=>{var x=ca();l(c,x)},ge=c=>{var x=ua();l(c,x)};_(ce,c=>{e(X)?c(ue):c(ge,!1)})}De(),t(F);var oe=o(F,2);t(ee),t(T),t(ie),h((c,x,C,E)=>{S(ie,1,`rounded-xl border border-border-default bg-bg-secondary/50 overflow-hidden animate-fade-in
                  ${e(ne)<20?"border-accent-pink/40":"hover:border-accent-cyan/20"} transition-all`,"svelte-19gsovj"),S(b,1,`h-full ${c??""} transition-all duration-1000 ease-linear`,"svelte-19gsovj"),Ys(b,`width: ${e(ne)??""}%`),f(Ue,e(g).request.command),S(A,1,`flex items-center gap-1.5 ${x??""} text-xs font-mono flex-shrink-0`,"svelte-19gsovj"),f(M,` ${C??""}`),f(qe,`id: ${E??""}‚Ä¶`),F.disabled=e(X),oe.disabled=e(X)},[()=>cs(e(g).expiresAtMs),()=>ds(e(g).expiresAtMs),()=>ns(e(g).expiresAtMs),()=>e(g).id.slice(0,12)]),y("click",F,()=>Ct(e(g).id,"approve")),y("click",oe,()=>Ct(e(g).id,"deny")),l(K,ie)}),t($),l(B,$)};_(Qe,B=>{e(At).length===0?B(We):B(it,!1)})}t(n);var ve=o(n,2),Ge=o(s(ve),2);{var dt=B=>{var $=xa();l(B,$)},fe=B=>{var $=ba();Ze($,21,()=>e(he),K=>K.id+K.resolvedAtMs,(K,g)=>{var ne=ma(),X=s(ne),ie=s(X);{var p=A=>{var M=fa();l(A,M)},b=A=>{var M=_a();l(A,M)};_(ie,A=>{e(g).decision==="approve"?A(p):A(b,!1)})}t(X);var T=o(X,2),se=s(T,!0);t(T);var Y=o(T,2),Ce=s(Y,!0);t(Y);var _e=o(Y,2),Ue=s(_e,!0);t(_e),t(ne),h((A,M)=>{S(X,1,`w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0
                    ${e(g).decision==="approve"?"bg-accent-green/15 text-accent-green":"bg-accent-pink/15 text-accent-pink"}`,"svelte-19gsovj"),f(se,A),S(Y,1,`text-[10px] font-semibold uppercase tracking-wider px-2 py-0.5 rounded-full
                    ${e(g).decision==="approve"?"bg-accent-green/15 text-accent-green border border-accent-green/20":"bg-accent-pink/15 text-accent-pink border border-accent-pink/20"}`,"svelte-19gsovj"),f(Ce,e(g).decision==="approve"?"approved":"denied"),f(Ue,M)},[()=>e(g).command??e(g).request?.command??e(g).id.slice(0,16),()=>us(e(g).resolvedAtMs)]),l(K,ne)}),t($),l(B,$)};_(Ge,B=>{e(he).length===0?B(dt):B(fe,!1)})}t(ve),t(r),h(()=>S(le,1,`w-2 h-2 rounded-full ${e(xe)>0?"bg-accent-amber animate-pulse":"bg-text-muted"}`,"svelte-19gsovj")),l(a,r)},As=a=>{var r=Ia(),n=s(r),k=s(n),le=o(s(k),2);{var Ee=p=>{var b=ha(),T=s(b);t(b),h(()=>f(T,`üìÅ ${e(tt).path??""}`)),l(p,b)},nt=p=>{var b=ya();l(p,b)};_(le,p=>{e(tt)?.path?p(Ee):p(nt,!1)})}t(k);var Qe=o(k,2),We=s(Qe);{var it=p=>{var b=ka();l(p,b)};_(We,p=>{e(ke)&&p(it)})}var ve=o(We,2),Ge=s(ve),dt=o(Ge);t(ve);var fe=o(ve,2),B=s(fe);{var $=p=>{var b=wa();l(p,b)},K=p=>{var b=Aa();l(p,b)};_(B,p=>{e(Pe)?p($):p(K,!1)})}De(),t(fe),t(Qe),t(n);var g=o(n,2);{var ne=p=>{var b=Ma(),T=o(s(b),4);t(b),y("click",T,()=>kt(()=>Ie())),l(p,b)},X=p=>{var b=Ca();l(p,b)},ie=p=>{var b=Va(),T=Zt(b),se=o(s(T),2),Y=o(se,2);Ze(Y,17,()=>e(ls),es,(A,M)=>{const O=te(()=>e(v)?.agents?.[e(M)]?.allowlist?.length??0);var P=Ba(),L=s(P),W=s(L,!0);t(L);var ae=o(L,2);{var Z=N=>{var R=qa(),z=s(R,!0);t(R),h(()=>{S(R,1,`px-1.5 py-0.5 rounded-full text-[10px] font-bold
                    ${e(u)===e(M)?"bg-accent-cyan/20 text-accent-cyan":"bg-bg-hover text-text-muted"}`,"svelte-19gsovj"),f(z,e(O))}),l(N,R)};_(ae,N=>{e(O)>0&&N(Z)})}t(P),h(()=>{S(P,1,`px-3 py-1.5 text-xs rounded-lg border transition-all flex items-center gap-1.5
                  ${e(u)===e(M)?"bg-accent-cyan/15 text-accent-cyan border-accent-cyan/30 font-medium":"bg-bg-tertiary text-text-muted border-border-default hover:text-text-primary hover:border-border-glow"}`,"svelte-19gsovj"),f(W,e(M)==="*"?"* (global)":e(M))}),y("click",P,()=>d(u,e(M),!0)),l(A,P)}),t(T);var Ce=o(T,2);{var _e=A=>{var M=Da(),O=o(s(M),2),P=s(O),L=o(s(P),2),W=s(L);W.value=W.__value="deny";var ae=o(W);ae.value=ae.__value="allowlist";var Z=o(ae);Z.value=Z.__value="full",t(L);var N;Se(L),t(P);var R=o(P,2),z=o(s(R),2),de=s(z);de.value=de.__value="off";var V=o(de);V.value=V.__value="on-miss";var G=o(V);G.value=G.__value="always",t(z);var qe;Se(z),t(R);var ee=o(R,2),F=o(s(ee),2),ce=s(F);ce.value=ce.__value="deny";var ue=o(ce);ue.value=ue.__value="allowlist";var ge=o(ue);ge.value=ge.__value="full",t(F);var oe;Se(F),t(ee);var c=o(ee,2),x=o(s(c),2),C=s(x);t(x),t(c),t(O),t(M),h(()=>{N!==(N=e(D).security)&&(L.value=(L.__value=e(D).security)??"",$e(L,e(D).security)),qe!==(qe=e(D).ask)&&(z.value=(z.__value=e(D).ask)??"",$e(z,e(D).ask)),oe!==(oe=e(D).askFallback)&&(F.value=(F.__value=e(D).askFallback)??"",$e(F,e(D).askFallback)),S(x,1,`relative w-11 h-6 rounded-full transition-colors duration-200
                      ${e(D).autoAllowSkills?"bg-accent-green":"bg-bg-tertiary border border-border-default"}`,"svelte-19gsovj"),S(C,1,`absolute top-0.5 left-0.5 w-5 h-5 rounded-full bg-white shadow-sm transition-transform duration-200
                      ${e(D).autoAllowSkills?"translate-x-5":"translate-x-0"}`,"svelte-19gsovj")}),y("change",L,E=>Ke("security",E.target.value)),y("change",z,E=>Ke("ask",E.target.value)),y("change",F,E=>Ke("askFallback",E.target.value)),y("click",x,()=>Ke("autoAllowSkills",!e(D).autoAllowSkills)),l(A,M)},Ue=A=>{var M=Oa(),O=Zt(M),P=s(O),L=s(P),W=o(s(L)),ae=s(W,!0);t(W),t(L),De(2),t(P);var Z=o(P,2),N=s(Z),R=s(N),z=o(s(R),2),de=s(z);t(z),t(R);var V=o(R,2),G=s(V),qe=s(G);t(G),G.value=G.__value="__default__";var ee=o(G);ee.value=ee.__value="deny";var F=o(ee);F.value=F.__value="allowlist";var ce=o(F);ce.value=ce.__value="full",t(V);var ue;Se(V),t(N);var ge=o(N,2),oe=s(ge),c=o(s(oe),2),x=s(c);t(c),t(oe);var C=o(oe,2),E=s(C),Ms=s(E);t(E),E.value=E.__value="__default__";var ct=o(E);ct.value=ct.__value="off";var ut=o(ct);ut.value=ut.__value="on-miss";var Ht=o(ut);Ht.value=Ht.__value="always",t(C);var Rt;Se(C),t(ge);var Et=o(ge,2),gt=s(Et),Ut=o(s(gt),2),Cs=s(Ut);t(Ut),t(gt);var me=o(gt,2),Te=s(me),qs=s(Te);t(Te),Te.value=Te.__value="__default__";var pt=o(Te);pt.value=pt.__value="deny";var xt=o(pt);xt.value=xt.__value="allowlist";var Tt=o(xt);Tt.value=Tt.__value="full",t(me);var zt;Se(me),t(Et),t(Z),t(O);var Ot=o(O,2),ft=s(Ot),Vt=s(ft),It=s(Vt),Bs=o(s(It));{var Ds=w=>{var q=Sa(),mt=s(q);t(q),h(()=>f(mt,`(${e(Ve).length??""})`)),l(w,q)};_(Bs,w=>{e(Ve).length>0&&w(Ds)})}t(It),De(2),t(Vt),t(ft);var Kt=o(ft,2);{var Ss=w=>{var q=$a();l(w,q)},$s=w=>{var q=za();Ze(q,21,()=>e(Ve),es,(mt,J,be)=>{var bt=Ta(),Wt=s(bt),jt=s(Wt),Gt=s(jt);{var Fs=j=>{var m=Fa(),U=s(m);ts(U),Gs(U);var Be=o(U,2),Vs=o(Be,2);t(m),y("keydown",U,Xe=>{Xe.key==="Enter"&&Dt(be),Xe.key==="Escape"&&St()}),as(U,()=>e(Ae),Xe=>d(Ae,Xe)),y("click",Be,()=>Dt(be)),y("click",Vs,St),l(j,m)},Ps=j=>{var m=Pa(),U=s(m),Be=s(U,!0);t(U),t(m),h(()=>f(Be,e(J).pattern)),y("click",U,()=>Bt(be,e(J).pattern)),l(j,m)};_(Gt,j=>{e(Le)===be?j(Fs):j(Ps,!1)})}var ht=o(Gt,2),Jt=s(ht);{var Ls=j=>{var m=La(),U=o(s(m));t(m),h(Be=>f(U,` ${Be??""}`),[()=>gs(e(J).lastUsedAt)]),l(j,m)},Hs=j=>{var m=Ha();l(j,m)};_(Jt,j=>{e(J).lastUsedAt?j(Ls):j(Hs,!1)})}var Rs=o(Jt,2);{var Es=j=>{var m=Ra(),U=s(m);t(m),h(()=>{ss(m,"title",e(J).lastResolvedPath),f(U,`‚Üí ${e(J).lastResolvedPath??""}`)}),l(j,m)};_(Rs,j=>{e(J).lastResolvedPath&&j(Es)})}t(ht);var Us=o(ht,2);{var Ts=j=>{var m=Ea(),U=s(m);t(m),h(()=>{ss(m,"title",e(J).lastUsedCommand),f(U,`$ ${e(J).lastUsedCommand??""}`)}),l(j,m)};_(Us,j=>{e(J).lastUsedCommand&&j(Ts)})}t(jt);var Xt=o(jt,2),Yt=s(Xt);{var zs=j=>{var m=Ua();y("click",m,()=>Bt(be,e(J).pattern)),l(j,m)};_(Yt,j=>{e(Le)!==be&&j(zs)})}var Os=o(Yt,2);t(Xt),t(Wt),t(bt),y("click",Os,()=>xs(be)),l(mt,bt)}),t(q),l(w,q)};_(Kt,w=>{e(Ve).length===0?w(Ss):w($s,!1)})}var Nt=o(Kt,2),Qt=s(Nt),Je=s(Qt);ts(Je);var _t=o(Je,2);t(Qt),t(Nt),t(Ot),h((w,q)=>{f(ae,e(u)==="*"?"* (global)":e(u)),f(de,`Default: ${e(D).security??""}`),f(qe,`Use default (${e(D).security??""})`),ue!==(ue=e(Q)?.security??"__default__")&&(V.value=(V.__value=e(Q)?.security??"__default__")??"",$e(V,e(Q)?.security??"__default__")),f(x,`Default: ${e(D).ask??""}`),f(Ms,`Use default (${e(D).ask??""})`),Rt!==(Rt=e(Q)?.ask??"__default__")&&(C.value=(C.__value=e(Q)?.ask??"__default__")??"",$e(C,e(Q)?.ask??"__default__")),f(Cs,`Default: ${e(D).askFallback??""}`),f(qs,`Use default (${e(D).askFallback??""})`),zt!==(zt=e(Q)?.askFallback??"__default__")&&(me.value=(me.__value=e(Q)?.askFallback??"__default__")??"",$e(me,e(Q)?.askFallback??"__default__")),_t.disabled=w,S(_t,1,`flex items-center gap-1.5 px-3 py-1.5 text-xs rounded-lg transition-all
                      ${q??""}`,"svelte-19gsovj")},[()=>!e(we).trim(),()=>e(we).trim()?"bg-accent-green/15 text-accent-green border border-accent-green/30 hover:bg-accent-green/25":"bg-bg-tertiary text-text-muted border border-border-default opacity-50 cursor-not-allowed"]),y("change",V,w=>{const q=w.target.value;q==="__default__"?at(e(u),"security"):st(e(u),"security",q)}),y("change",C,w=>{const q=w.target.value;q==="__default__"?at(e(u),"ask"):st(e(u),"ask",q)}),y("change",me,w=>{const q=w.target.value;q==="__default__"?at(e(u),"askFallback"):st(e(u),"askFallback",q)}),y("keydown",Je,w=>{w.key==="Enter"&&qt()}),as(Je,()=>e(we),w=>d(we,w)),y("click",_t,qt),l(A,M)};_(Ce,A=>{e(u)==="__defaults__"?A(_e):A(Ue,!1)})}De(2),h(()=>S(se,1,`px-3 py-1.5 text-xs rounded-lg border transition-all
                ${e(u)==="__defaults__"?"bg-accent-cyan/15 text-accent-cyan border-accent-cyan/30 font-medium":"bg-bg-tertiary text-text-muted border-border-default hover:text-text-primary hover:border-border-glow"}`,"svelte-19gsovj")),y("click",se,()=>d(u,"__defaults__")),l(p,b)};_(g,p=>{!e(v)&&!e(re)?p(ne):e(re)&&!e(v)?p(X,1):e(v)&&p(ie,2)})}t(r),h(()=>{ve.disabled=e(re),S(Ge,0,`w-3.5 h-3.5 ${e(re)?"animate-spin":""}`,"svelte-19gsovj"),f(dt,` ${e(re)?"Loading‚Ä¶":"Reload"}`),fe.disabled=e(Pe)||!e(ke),S(fe,1,`flex items-center gap-1.5 px-3 py-1.5 text-xs rounded-lg transition-all
                ${e(ke)?"bg-accent-green/20 text-accent-green border border-accent-green/30 hover:bg-accent-green/30":"bg-bg-tertiary text-text-muted border border-border-default opacity-50 cursor-not-allowed"}`,"svelte-19gsovj")}),y("click",ve,()=>kt(()=>Ie())),y("click",fe,ps),l(a,r)};_(ys,a=>{et.state.status!=="connected"?a(ks):e(pe)==="queue"?a(ws,1):e(pe)==="allowlist"&&a(As,2)})}t(Lt),t(ot),h(()=>{S(vt,1,`w-10 h-10 rounded-xl border border-border-glow flex items-center justify-center relative
            ${e(Oe)?"approval-pulse":""}`,"svelte-19gsovj"),S(Re,1,`px-3 py-1.5 text-sm rounded-md transition-all flex items-center gap-1.5
            ${e(pe)==="queue"?"bg-bg-hover text-accent-cyan font-medium":"text-text-muted hover:text-text-primary"}`,"svelte-19gsovj"),S(Ne,1,`px-3 py-1.5 text-sm rounded-md transition-all flex items-center gap-1.5
            ${e(pe)==="allowlist"?"bg-bg-hover text-accent-green font-medium":"text-text-muted hover:text-text-primary"}`,"svelte-19gsovj")}),y("click",Re,()=>d(pe,"queue")),y("click",Ne,()=>d(pe,"allowlist")),l(os,ot),Ns()}Is(["click","change","keydown"]);export{to as component};
