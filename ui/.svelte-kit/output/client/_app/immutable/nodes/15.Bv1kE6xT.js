import{d as ae,a as v,b as i,f as d,s as $,c as ct}from"../chunks/B2A7gHtL.js";import{p as oe,s as _,a as _t,u as rt,b as kt,g as e,d as x,t as O,c as re,e as ne,h as n,f as o,$ as se,r,n as B,j as nt}from"../chunks/qR_TM3YX.js";import{i as h}from"../chunks/DpBBTLWw.js";import{g as ce,e as le,i as ie,r as R,c as de,b as y,s as C}from"../chunks/BhtVncI_.js";import{h as pe}from"../chunks/CXQ1lKJR.js";import{s as Ct}from"../chunks/tr5b7CMr.js";import{b as st}from"../chunks/nnazh41B.js";import{b as ue}from"../chunks/BYXRTvT-.js";import{g as ve,a as xe,A as me}from"../chunks/CktI4lAE.js";import{C as be}from"../chunks/jyaC7jQ0.js";var fe=ct('<svg class="w-5 h-5 absolute inset-0 m-auto text-white drop-shadow-lg" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="3"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"></path></svg>'),ge=d(`<button><!> <span class="absolute -bottom-7 left-1/2 -translate-x-1/2 text-xs text-text-muted
                opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none"> </span></button>`),he=d(`<img alt="Your avatar" class="w-24 h-24 rounded-full object-cover border-2 border-accent-cyan/30 shadow-[0_0_15px_rgba(0,229,255,0.15)]"/> <button class="absolute -top-1 -right-1 w-6 h-6 rounded-full bg-red-500 text-white text-xs font-bold
                       flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity" aria-label="Remove avatar">×</button>`,1),ye=d(`<div class="w-24 h-24 rounded-full bg-accent-cyan/10 border-2 border-dashed border-accent-cyan/30
                          flex items-center justify-center"><svg class="w-10 h-10 text-accent-cyan/40" fill="currentColor" viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"></path></svg></div>`),we=d('<p class="text-sm text-text-muted">Your browser does not support notifications.</p>'),_e=d('<span class="inline-flex items-center gap-1.5 text-sm font-medium text-green-400"><span class="w-2 h-2 rounded-full bg-green-400"></span> Granted</span>'),ke=d('<span class="inline-flex items-center gap-1.5 text-sm font-medium text-red-400"><span class="w-2 h-2 rounded-full bg-red-400"></span> Denied</span>'),Ce=d('<span class="inline-flex items-center gap-1.5 text-sm font-medium text-yellow-400"><span class="w-2 h-2 rounded-full bg-yellow-400"></span> Not requested</span>'),Se=d(`<button class="px-5 py-2.5 rounded-xl text-sm font-medium
              bg-accent-cyan/20 border border-accent-cyan/30 text-accent-cyan
              hover:bg-accent-cyan/30 transition-all glow-cyan">Enable Notifications</button>`),Me=d(`<p class="text-sm text-red-400/80 bg-red-500/10 border border-red-500/20 rounded-xl px-4 py-3">Notifications are blocked. To enable them, open your browser's site settings and allow notifications for this site.</p>`),je=d('<label class="flex items-center justify-between cursor-pointer group"><div><p class="text-sm font-medium text-text-primary">Notify on new messages</p> <p class="text-xs text-text-muted">Show a notification when a message arrives while the tab is in the background</p></div> <button role="switch"><span></span></button></label> <label class="flex items-center justify-between cursor-pointer group"><div><p class="text-sm font-medium text-text-primary">Notify on connection lost</p> <p class="text-xs text-text-muted">Show a notification if the gateway connection drops</p></div> <button role="switch"><span></span></button></label>',1),Ae=d('<div class="flex items-center gap-3"><span class="text-sm text-text-secondary">Permission:</span> <!></div> <!> <!> <!>',1),Oe=ct('<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"></path></svg>'),Be=ct('<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg>'),Ne=d(`<button class="px-5 py-2.5 rounded-xl text-sm font-medium
              bg-red-500/20 border border-red-500/30 text-red-400
              hover:bg-red-500/30 transition-all">Disconnect</button>`),ze=d("<button>Connect</button>"),De=d(`<div class="h-full overflow-y-auto"><div class="max-w-2xl mx-auto px-4 md:px-6 py-6 md:py-8"><a href="/" class="inline-flex items-center gap-2 text-sm text-text-secondary hover:text-accent-cyan transition-colors mb-8"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg> Back to Chat</a> <div class="flex items-center gap-4 mb-8"><img src="/logo.png" alt="Cortex" class="w-16 h-16 rounded-xl"/> <div><h1 class="text-2xl font-bold text-accent-cyan glow-text-cyan">Settings</h1> <p class="text-sm text-text-muted">Customize your Cortex experience</p></div></div> <div class="glass rounded-2xl p-6 space-y-6 mb-6"><h2 class="text-lg font-semibold text-text-primary flex items-center gap-2"><svg class="w-5 h-5 text-accent-cyan" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"></path></svg> Appearance</h2> <div><label class="block text-sm font-medium text-text-secondary mb-3">Accent Color</label> <div class="flex flex-wrap gap-3"></div> <div class="mt-4 flex items-center gap-3"><label for="custom-accent-color" class="text-sm text-text-muted">Custom:</label> <input id="custom-accent-color" type="color" class="w-10 h-10 rounded-lg border border-border-default bg-bg-input cursor-pointer
              [&amp;::-webkit-color-swatch-wrapper]:p-1 [&amp;::-webkit-color-swatch]:rounded-md [&amp;::-webkit-color-swatch]:border-none
              [&amp;::-moz-color-swatch]:rounded-md [&amp;::-moz-color-swatch]:border-none"/> <span class="text-sm font-mono text-text-muted"> </span></div></div> <div class="border-t border-border-default pt-4"><p class="text-sm text-text-muted mb-3">Preview</p> <div class="flex flex-wrap items-center gap-3"><span class="text-accent-cyan font-medium">Accent text</span> <button class="px-3 py-1.5 rounded-lg text-sm bg-accent-cyan/20 border border-accent-cyan/30 text-accent-cyan glow-cyan">Button</button> <span class="inline-block w-3 h-3 rounded-full bg-accent-cyan glow-cyan"></span> <span class="text-sm text-text-secondary">Link: <a href="#preview" class="text-accent-cyan hover:underline">example</a></span> <code class="text-sm font-mono px-2 py-0.5 rounded">code</code></div></div></div> <div class="glass rounded-2xl p-6 space-y-6 mb-6"><h2 class="text-lg font-semibold text-text-primary flex items-center gap-2"><svg class="w-5 h-5 text-accent-cyan" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg> Profile</h2> <div class="flex flex-col sm:flex-row items-start gap-6"><div class="flex flex-col items-center gap-3"><div class="relative group"><!></div> <button class="px-3 py-1.5 rounded-lg text-xs font-medium border border-accent-cyan/30 text-accent-cyan
                   hover:bg-accent-cyan/10 transition-all"> </button> <input type="file" accept="image/*" class="hidden"/> <p class="text-[10px] text-text-muted">Max 2MB · Stored in browser</p></div> <div class="flex-1 w-full"><label for="user-name" class="block text-sm font-medium text-text-secondary mb-2">Display Name</label> <div class="flex gap-2"><input id="user-name" type="text" placeholder="Your name" class="flex-1 px-3 py-2 rounded-lg border border-border-default bg-bg-input text-sm text-text-primary
                     placeholder:text-text-muted/50 focus:outline-none focus:border-accent-cyan/50"/> <button class="px-3 py-2 rounded-lg text-sm font-medium bg-accent-cyan/20 border border-accent-cyan/30
                     text-accent-cyan hover:bg-accent-cyan/30 transition-all">Save</button></div> <p class="text-xs text-text-muted mt-1.5">Shown next to your messages in chat</p></div></div></div> <div class="glass rounded-2xl p-6 space-y-6 mb-6"><h2 class="text-lg font-semibold text-text-primary flex items-center gap-2"><svg class="w-5 h-5 text-accent-cyan" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"></path></svg> Notifications</h2> <!></div> <div class="mb-6"><!></div> <div class="glass rounded-2xl p-6 space-y-6 mb-6"><h2 class="text-lg font-semibold text-text-primary flex items-center gap-2"><svg class="w-5 h-5 text-accent-purple" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14M12 5l7 7-7 7"></path></svg> Gateway Connection</h2> <div><label for="gateway-url" class="block text-sm font-medium text-text-secondary mb-2">Gateway WebSocket URL</label> <input id="gateway-url" type="text" placeholder="ws://192.168.1.242:18789 or wss://openclaw.honercloud.com" class="w-full px-4 py-3 rounded-xl bg-bg-input border border-border-default
            text-text-primary placeholder:text-text-muted text-sm font-mono
            focus:outline-none focus:border-accent-cyan/50 focus:ring-1 focus:ring-accent-cyan/20
            transition-all"/> <p class="text-xs text-text-muted mt-1.5">Use <code class="text-accent-cyan">ws://</code> for local, <code class="text-accent-cyan">wss://</code> for TLS</p></div> <div><label for="gateway-token" class="block text-sm font-medium text-text-secondary mb-2">Auth Token</label> <div class="relative"><input id="gateway-token" placeholder="Gateway authentication token" class="w-full px-4 py-3 pr-12 rounded-xl bg-bg-input border border-border-default
              text-text-primary placeholder:text-text-muted text-sm font-mono
              focus:outline-none focus:border-accent-cyan/50 focus:ring-1 focus:ring-accent-cyan/20
              transition-all"/> <button class="absolute right-3 top-1/2 -translate-y-1/2 text-text-muted hover:text-text-primary transition-colors" type="button"><!></button></div> <p class="text-xs text-text-muted mt-1.5">Find this in <code class="text-accent-cyan">~/.openclaw/openclaw.json</code> → <code class="text-accent-cyan">gateway.auth.token</code></p></div> <div class="flex items-center gap-3 pt-2"><button class="px-5 py-2.5 rounded-xl text-sm font-medium
            bg-accent-cyan/20 border border-accent-cyan/30 text-accent-cyan
            hover:bg-accent-cyan/30 transition-all glow-cyan"> </button> <!></div></div> <div class="glass rounded-2xl p-6"><h2 class="text-lg font-semibold text-text-primary mb-4">About Cortex</h2> <div class="space-y-3 text-sm text-text-secondary"><p><strong class="text-text-primary">Version:</strong> 1.0.0</p> <p><strong class="text-text-primary">Protocol:</strong> OpenClaw Gateway WS v3</p> <p><strong class="text-text-primary">Source:</strong> <a href="https://gitlab.honercloud.com/llm/cortex" target="_blank" rel="noopener" class="text-accent-cyan hover:underline">gitlab.honercloud.com/llm/cortex</a></p> <p class="text-text-muted text-xs mt-4">Cortex is a cyberpunk command center for OpenClaw — connecting directly to the Gateway WebSocket
          for real-time chat, session management, and system control.</p></div></div></div></div>`);function Ee(St,Mt){oe(Mt,!0);const m=ce(),p=ve(),l=xe();let f=_(_t(m.url||"")),g=_(_t(m.token||"")),S=_(!1),V=_(!1),k=_(null),N=_(""),W=_(void 0);rt(()=>{kt(()=>{typeof window<"u"&&(x(k,localStorage.getItem("cortex-user-avatar"),!0),x(N,localStorage.getItem("cortex-user-name")||"",!0))})});function jt(t){const a=t.target,s=a.files?.[0];if(!s||!s.type.startsWith("image/"))return;if(s.size>2*1024*1024){alert("Image too large — max 2MB");return}const b=new FileReader;b.addEventListener("load",()=>{const w=b.result;x(k,w,!0),localStorage.setItem("cortex-user-avatar",w)}),b.readAsDataURL(s),a.value=""}function At(){x(k,null),localStorage.removeItem("cortex-user-avatar")}function Ot(){localStorage.setItem("cortex-user-name",e(N))}rt(()=>{kt(()=>l.init())}),rt(()=>{m.url&&!e(f)&&x(f,m.url,!0),m.token&&!e(g)&&x(g,m.token,!0)});function Bt(){m.saveSettings(e(f),e(g)),m.url=e(f),m.token=e(g),x(V,!0),setTimeout(()=>x(V,!1),2e3)}function Nt(){m.connect(e(f),e(g))}function zt(){m.disconnect()}var E=De();pe("1i19ct2",t=>{ne(()=>{se.title="Settings — Cortex"})});var lt=n(E),F=o(n(lt),4),Y=o(n(F),2),q=o(n(Y),2);le(q,21,()=>me,ie,(t,a)=>{var s=ge();let b;var w=n(s);{var at=M=>{var G=fe();i(M,G)};h(w,M=>{p.accentColor===e(a).value&&M(at)})}var T=o(w,2),U=n(T,!0);r(T),r(s),O(()=>{b=C(s,1,"group relative w-12 h-12 rounded-xl transition-all duration-200 hover:scale-110",null,b,{"ring-2":p.accentColor===e(a).value,"ring-offset-2":p.accentColor===e(a).value,"ring-offset-bg-primary":p.accentColor===e(a).value}),Ct(s,`background-color: ${e(a).value??""}; ${p.accentColor===e(a).value?`ring-color: ${e(a).value}; box-shadow: 0 0 20px ${e(a).value}44, 0 0 40px ${e(a).value}22;`:""}`),y(s,"title",e(a).name),y(s,"aria-label",`Set accent color to ${e(a).name??""}`),y(s,"aria-pressed",p.accentColor===e(a).value),$(U,e(a).name)}),v("click",s,()=>p.setAccent(e(a).value)),i(t,s)}),r(q);var it=o(q,2),z=o(n(it),2);R(z);var dt=o(z,2),Dt=n(dt,!0);r(dt),r(it),r(Y);var pt=o(Y,2),ut=o(n(pt),2),Lt=o(n(ut),8);r(ut),r(pt),r(F);var H=o(F,2),vt=o(n(H),2),J=n(vt),K=n(J),It=n(K);{var Pt=t=>{var a=he(),s=nt(a),b=o(s,2);O(()=>y(s,"src",e(k))),v("click",b,At),i(t,a)},Tt=t=>{var a=ye();i(t,a)};h(It,t=>{e(k)?t(Pt):t(Tt,!1)})}r(K);var D=o(K,2),Ut=n(D,!0);r(D);var xt=o(D,2);ue(xt,t=>x(W,t),()=>e(W)),B(2),r(J);var mt=o(J,2),bt=o(n(mt),2),Q=n(bt);R(Q);var Gt=o(Q,2);r(bt),B(2),r(mt),r(vt),r(H);var X=o(H,2),$t=o(n(X),2);{var Rt=t=>{var a=we();i(t,a)},Vt=t=>{var a=Ae(),s=nt(a),b=o(n(s),2);{var w=c=>{var u=_e();i(c,u)},at=c=>{var u=ke();i(c,u)},T=c=>{var u=Ce();i(c,u)};h(b,c=>{l.permission==="granted"?c(w):l.permission==="denied"?c(at,1):c(T,!1)})}r(s);var U=o(s,2);{var M=c=>{var u=Se();v("click",u,()=>l.requestPermission()),i(c,u)};h(U,c=>{l.permission==="default"&&c(M)})}var G=o(U,2);{var Qt=c=>{var u=Me();i(c,u)};h(G,c=>{l.permission==="denied"&&c(Qt)})}var Xt=o(G,2);{var Zt=c=>{var u=je(),ot=nt(u),j=o(n(ot),2),te=n(j);r(j),r(ot);var wt=o(ot,2),A=o(n(wt),2),ee=n(A);r(A),r(wt),O(()=>{y(j,"aria-checked",l.notifyOnMessages),C(j,1,`relative inline-flex h-6 w-11 shrink-0 rounded-full border-2 border-transparent transition-colors duration-200
                ${l.notifyOnMessages?"bg-accent-cyan":"bg-bg-tertiary"}`),C(te,1,`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition-transform duration-200
                  ${l.notifyOnMessages?"translate-x-5":"translate-x-0"}`),y(A,"aria-checked",l.notifyOnDisconnect),C(A,1,`relative inline-flex h-6 w-11 shrink-0 rounded-full border-2 border-transparent transition-colors duration-200
                ${l.notifyOnDisconnect?"bg-accent-cyan":"bg-bg-tertiary"}`),C(ee,1,`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition-transform duration-200
                  ${l.notifyOnDisconnect?"translate-x-5":"translate-x-0"}`)}),v("click",j,()=>l.setNotifyOnMessages(!l.notifyOnMessages)),v("click",A,()=>l.setNotifyOnDisconnect(!l.notifyOnDisconnect)),i(c,u)};h(Xt,c=>{l.permission==="granted"&&c(Zt)})}i(t,a)};h($t,t=>{l.supported?t(Vt,!1):t(Rt)})}r(X);var Z=o(X,2),Wt=n(Z);be(Wt,{}),r(Z);var ft=o(Z,2),tt=o(n(ft),2),gt=o(n(tt),2);R(gt),B(2),r(tt);var et=o(tt,2),ht=o(n(et),2),L=n(ht);R(L);var I=o(L,2),Et=n(I);{var Ft=t=>{var a=Oe();i(t,a)},Yt=t=>{var a=Be();i(t,a)};h(Et,t=>{e(S)?t(Ft):t(Yt,!1)})}r(I),r(ht),B(2),r(et);var yt=o(et,2),P=n(yt),qt=n(P,!0);r(P);var Ht=o(P,2);{var Jt=t=>{var a=Ne();v("click",a,zt),i(t,a)},Kt=t=>{var a=ze();O(()=>{a.disabled=!e(f)||!e(g),C(a,1,`px-5 py-2.5 rounded-xl text-sm font-medium
              ${e(f)&&e(g)?"bg-accent-purple/20 border border-accent-purple/30 text-accent-purple hover:bg-accent-purple/30 glow-purple":"bg-bg-tertiary border border-border-default text-text-muted cursor-not-allowed opacity-50"} transition-all`)}),v("click",a,Nt),i(t,a)};h(Ht,t=>{m.state.status==="connected"?t(Jt):t(Kt,!1)})}r(yt),r(ft),B(2),r(lt),r(E),O(()=>{de(z,p.accentColor),$(Dt,p.accentColor),Ct(Lt,`background: color-mix(in srgb, ${p.accentColor??""} 8%, transparent); border: 1px solid color-mix(in srgb, ${p.accentColor??""} 15%, transparent); color: ${p.accentColor??""};`),$(Ut,e(k)?"Change Photo":"Upload Photo"),y(L,"type",e(S)?"text":"password"),y(I,"aria-label",e(S)?"Hide token":"Show token"),$(qt,e(V)?"✓ Saved":"Save Settings")}),v("input",z,t=>p.setAccent(t.target.value)),v("click",D,()=>e(W)?.click()),v("change",xt,jt),st(Q,()=>e(N),t=>x(N,t)),v("click",Gt,Ot),st(gt,()=>e(f),t=>x(f,t)),st(L,()=>e(g),t=>x(g,t)),v("click",I,()=>x(S,!e(S))),v("click",P,Bt),i(St,E),re()}ae(["click","input","change"]);export{Ee as component};
