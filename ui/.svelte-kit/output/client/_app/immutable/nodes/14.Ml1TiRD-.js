import{d as _a,a as k,b as x,s as g,f as b,e as ka,g as Cr}from"../chunks/B2A7gHtL.js";import{p as wa,s as L,a as q,u as Ar,g as e,d as f,b as Ma,t as y,c as Ca,e as Aa,h as a,f as n,i as D,$ as Ta,r,n as O,j as Kt,m as Tr,o as Lr}from"../chunks/qR_TM3YX.js";import{i as w}from"../chunks/DpBBTLWw.js";import{g as La,a as Pt,s as S,r as K,e as ne,i as Qt,b as xe}from"../chunks/BhtVncI_.js";import{h as Sa}from"../chunks/CXQ1lKJR.js";import{s as ja}from"../chunks/tr5b7CMr.js";import{b as $e,a as Be}from"../chunks/nnazh41B.js";import{b as Da,i as Sr,s as jr}from"../chunks/DVP7Iy08.js";import{g as $a}from"../chunks/9SZhwvK0.js";import{g as Ba}from"../chunks/Be_uRYmX.js";import{g as Fa}from"../chunks/BoJZZ0lI.js";var za=b('<div class="mt-4 rounded-xl border border-border-default bg-bg-secondary/50 p-4 animate-fade-in"><div class="grid grid-cols-2 md:grid-cols-4 gap-4"><div><label class="block text-xs text-text-muted mb-1">Active Minutes (0=all)</label> <input type="number" min="0" step="1" class="w-full px-3 py-1.5 text-sm rounded-lg border border-border-default bg-bg-tertiary text-text-primary focus:outline-none focus:border-accent-cyan transition-all"/></div> <div><label class="block text-xs text-text-muted mb-1">Limit</label> <input type="number" min="1" max="500" step="1" class="w-full px-3 py-1.5 text-sm rounded-lg border border-border-default bg-bg-tertiary text-text-primary focus:outline-none focus:border-accent-cyan transition-all"/></div> <div class="flex flex-col justify-end gap-2"><label class="flex items-center gap-2 text-sm text-text-secondary cursor-pointer"><input type="checkbox" class="rounded border-border-default bg-bg-tertiary text-accent-cyan focus:ring-accent-cyan/30"/> Include Global</label> <label class="flex items-center gap-2 text-sm text-text-secondary cursor-pointer"><input type="checkbox" class="rounded border-border-default bg-bg-tertiary text-accent-cyan focus:ring-accent-cyan/30"/> Include Unknown</label></div> <div class="flex items-end"><button class="w-full px-3 py-1.5 text-sm rounded-lg bg-accent-cyan/10 text-accent-cyan border border-accent-cyan/30 hover:bg-accent-cyan/20 transition-all">Apply Filters</button></div></div></div>'),Va=b('<div class="flex rounded-lg border border-border-default overflow-hidden"><button>Grouped</button> <button>All</button></div>'),Ha=b('<div class="flex items-center gap-1"><button class="px-2 py-2 text-xs rounded-lg bg-bg-tertiary border border-border-default text-text-muted hover:text-text-secondary transition-all" title="Expand all"><svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button> <button class="px-2 py-2 text-xs rounded-lg bg-bg-tertiary border border-border-default text-text-muted hover:text-text-secondary transition-all" title="Collapse all"><svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></button> <span class="text-[10px] text-text-muted ml-1"> </span></div>'),Ia=b('<div class="flex flex-col items-center justify-center h-full text-center"><div class="w-16 h-16 rounded-2xl bg-bg-tertiary border border-border-default flex items-center justify-center mb-4"><svg class="w-8 h-8 text-text-muted" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 5.636a9 9 0 010 12.728m-2.829-2.829a5 5 0 000-7.07"></path></svg></div> <p class="text-text-muted text-sm">Connect to the gateway to view sessions.</p></div>'),Na=b('<div class="rounded-xl border border-border-default bg-bg-secondary/50 p-5 animate-pulse"><div class="h-4 w-48 bg-bg-tertiary rounded mb-3"></div> <div class="h-3 w-96 bg-bg-tertiary rounded mb-2"></div> <div class="flex gap-2"><div class="h-5 w-16 bg-bg-tertiary rounded-full"></div> <div class="h-5 w-20 bg-bg-tertiary rounded-full"></div> <div class="h-5 w-14 bg-bg-tertiary rounded-full"></div></div></div>'),Ra=b('<div class="flex flex-col gap-3"></div>'),Ua=b('<div class="flex flex-col items-center justify-center h-64 text-center"><p class="text-text-muted text-sm"> </p></div>'),Ea=b('<div class="flex flex-col items-center justify-center h-64 text-center"><p class="text-text-muted text-sm"> </p></div>'),Oa=b('<button><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></button>'),Ga=b('<div class="w-6 flex-shrink-0 mt-0.5 flex items-center justify-center"><span></span></div>'),qa=b('<form class="flex items-center gap-2"><input type="text" class="px-2 py-1 text-sm rounded border border-accent-cyan/50 bg-bg-tertiary text-text-primary focus:outline-none focus:border-accent-cyan w-48"/> <button type="submit" class="text-accent-cyan text-xs hover:underline">Save</button> <button type="button" class="text-text-muted text-xs hover:text-text-secondary">Cancel</button></form>'),Ka=b('<span> </span> <button class="p-0.5 rounded hover:bg-bg-hover text-text-muted hover:text-accent-cyan transition-colors" title="Rename"><svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button>',1),Pa=b('<span class="px-2 py-0.5 rounded text-[10px] font-medium bg-bg-tertiary text-text-muted border border-border-default"> </span>'),Qa=b('<span class="px-2 py-0.5 rounded text-[10px] font-medium bg-accent-purple/10 text-purple-300 border border-accent-purple/10"> </span>'),Wa=b("<span> </span>"),Ja=b('<span class="flex items-center gap-1 px-2 py-0.5 rounded text-[10px] bg-accent-purple/10 text-purple-300 border border-accent-purple/10"><svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg> </span>'),Xa=b('<span class="px-2 py-0.5 rounded text-[10px] bg-bg-tertiary text-text-muted border border-border-default"> </span>'),Ya=b('<span class="flex items-center gap-1 px-2 py-0.5 rounded text-[10px] bg-accent-green/10 text-accent-green border border-accent-green/10"><svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A2 2 0 013 12V7a4 4 0 014-4z"></path></svg> </span>'),Za=b('<p class="text-xs text-text-muted truncate mb-1.5 max-w-[500px]"> </p>'),en=b('<span class="flex items-center gap-1 px-2 py-1 rounded-lg text-[10px] font-medium bg-accent-amber/15 text-accent-amber border border-accent-amber/30"> </span>'),tn=b("<option> </option>"),rn=b(`<select class="px-2 py-1 rounded-lg text-[11px] border border-border-default bg-bg-tertiary
                             text-text-secondary hover:border-accent-purple/40 focus:outline-none focus:border-accent-purple
                             transition-all disabled:opacity-50 max-w-[200px] cursor-pointer appearance-none
                             bg-[url('data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2212%22%20height%3D%2212%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20stroke%3D%22%2388929e%22%20stroke-width%3D%222%22%3E%3Cpath%20d%3D%22M6%209l6%206%206-6%22%2F%3E%3C%2Fsvg%3E')]
                             bg-[length:12px] bg-[right_6px_center] bg-no-repeat pr-6" title="Override model for this session"><option>ðŸ¤– Model: default</option><!></select>`),an=b('<div class="px-4 pb-4"><div class="pt-3 border-t border-border-default flex items-center gap-3 flex-wrap"><span class="text-xs text-red-400">Delete this session permanently?</span> <label class="flex items-center gap-1.5 text-xs text-text-muted cursor-pointer"><input type="checkbox" class="rounded border-border-default bg-bg-tertiary text-red-400"/> Also delete transcript</label> <button class="px-3 py-1 rounded text-xs bg-red-500/20 text-red-400 border border-red-500/30 hover:bg-red-500/30 transition-colors">Confirm Delete</button> <button class="px-3 py-1 rounded text-xs bg-bg-tertiary text-text-muted border border-border-default hover:text-text-secondary transition-colors">Cancel</button></div></div>'),nn=b("<div></div>"),on=b(`<div class="animate-fade-in"><div><div class="p-4"><div class="flex items-start gap-3"><!> <div class="flex-1 min-w-0"><div class="flex items-center gap-2 mb-1.5 flex-wrap"><!> <span> </span> <!> <!> <!></div> <div class="flex items-center gap-2 mb-1.5 flex-wrap"><!> <!> <!></div> <!> <div class="flex items-center gap-3 text-xs text-text-muted"><span class="flex items-center gap-1"><svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> </span> <span class="font-mono text-text-muted/40 text-[10px] truncate max-w-[250px]"> </span></div></div> <div class="flex flex-col items-end gap-2 flex-shrink-0"><div class="flex items-center gap-1"><button><svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg> </button> <button><svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg> </button> <!></div> <!> <div class="flex items-center gap-1"><button class="px-3 py-1.5 rounded-lg text-xs border border-accent-cyan/30 text-accent-cyan
                             hover:bg-accent-cyan/10 transition-colors" title="Open in chat">Chat</button> <button class="p-1.5 rounded-lg hover:bg-bg-hover text-text-muted hover:text-red-400 transition-colors" title="Delete session"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></button></div></div></div></div> <!></div> <!></div>`),sn=b('<div class="flex flex-col gap-3"></div>'),ln=b('<div class="flex flex-col items-center justify-center h-64 text-center"><p class="text-text-muted text-sm"> </p></div>'),cn=b('<form class="flex items-center gap-2"><input type="text" class="px-2 py-1 text-sm rounded border border-accent-cyan/50 bg-bg-tertiary text-text-primary focus:outline-none focus:border-accent-cyan w-48"/> <button type="submit" class="text-accent-cyan text-xs hover:underline">Save</button> <button type="button" class="text-text-muted text-xs hover:text-text-secondary">Cancel</button></form>'),dn=b('<span class="font-medium text-text-primary truncate max-w-[300px]"> </span> <button class="p-0.5 rounded hover:bg-bg-hover text-text-muted hover:text-accent-cyan transition-colors" title="Rename"><svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button>',1),vn=b('<span class="px-2 py-0.5 rounded text-[10px] font-medium bg-bg-tertiary text-text-muted border border-border-default"> </span>'),un=b('<span class="px-2 py-0.5 rounded text-[10px] font-medium bg-accent-purple/10 text-purple-300 border border-accent-purple/10"> </span>'),pn=b('<button class="flex items-center gap-1 px-2 py-0.5 rounded text-[10px] font-medium bg-accent-amber/10 text-accent-amber border border-accent-amber/20 hover:bg-accent-amber/20 transition-colors"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg> </button>'),xn=b('<span class="flex items-center gap-1 px-2 py-0.5 rounded text-[10px] bg-accent-purple/10 text-purple-300 border border-accent-purple/10"><svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg> </span>'),bn=b('<span class="px-2 py-0.5 rounded text-[10px] bg-bg-tertiary text-text-muted border border-border-default"> </span>'),gn=b('<span class="flex items-center gap-1 px-2 py-0.5 rounded text-[10px] bg-accent-green/10 text-accent-green border border-accent-green/10"><svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A2 2 0 013 12V7a4 4 0 014-4z"></path></svg> </span>'),fn=b('<p class="text-xs text-text-muted truncate mb-1.5 max-w-[500px]"> </p>'),mn=b('<span class="flex items-center gap-1 px-2 py-1 rounded-lg text-[10px] font-medium bg-accent-amber/15 text-accent-amber border border-accent-amber/30"> </span>'),hn=b("<option> </option>"),yn=b(`<select class="px-2 py-1 rounded-lg text-[11px] border border-border-default bg-bg-tertiary
                               text-text-secondary hover:border-accent-purple/40 focus:outline-none focus:border-accent-purple
                               transition-all disabled:opacity-50 max-w-[200px] cursor-pointer appearance-none
                               bg-[url('data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2212%22%20height%3D%2212%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20stroke%3D%22%2388929e%22%20stroke-width%3D%222%22%3E%3Cpath%20d%3D%22M6%209l6%206%206-6%22%2F%3E%3C%2Fsvg%3E')]
                               bg-[length:12px] bg-[right_6px_center] bg-no-repeat pr-6" title="Override model for this session"><option>ðŸ¤– Model: default</option><!></select>`),_n=b('<div class="px-4 pb-4"><div class="pt-3 border-t border-border-default flex items-center gap-3 flex-wrap"><span class="text-xs text-red-400">Delete this session permanently?</span> <label class="flex items-center gap-1.5 text-xs text-text-muted cursor-pointer"><input type="checkbox" class="rounded border-border-default bg-bg-tertiary text-red-400"/> Also delete transcript</label> <button class="px-3 py-1 rounded text-xs bg-red-500/20 text-red-400 border border-red-500/30 hover:bg-red-500/30 transition-colors">Confirm Delete</button> <button class="px-3 py-1 rounded text-xs bg-bg-tertiary text-text-muted border border-border-default hover:text-text-secondary transition-colors">Cancel</button></div></div>'),kn=b('<p class="text-xs text-text-muted truncate mb-1 max-w-[400px]"> </p>'),wn=b("<span> </span>"),Mn=b("<span> </span>"),Cn=b('<div class="mt-2 pt-2 border-t border-border-default/50 flex items-center gap-2"><span class="text-[10px] text-red-400">Delete?</span> <label class="flex items-center gap-1 text-[10px] text-text-muted cursor-pointer"><input type="checkbox" class="rounded border-border-default bg-bg-tertiary text-red-400 w-3 h-3"/> + transcript</label> <button class="px-2 py-0.5 rounded text-[10px] bg-red-500/20 text-red-400 hover:bg-red-500/30 transition-colors">Confirm</button> <button class="px-2 py-0.5 rounded text-[10px] bg-bg-tertiary text-text-muted hover:text-text-secondary transition-colors">Cancel</button></div>'),An=b(`<div class="rounded-lg border border-border-default/50 bg-bg-secondary/30 p-3 ml-4 relative
                                    before:absolute before:left-[-12px] before:top-1/2 before:w-3 before:h-px before:bg-accent-amber/30"><div class="flex items-start justify-between gap-3"><div class="min-w-0 flex-1"><div class="flex items-center gap-2 mb-1"><span></span> <span class="text-sm font-medium text-text-primary truncate"> </span> <span> </span></div> <!> <div class="flex items-center gap-3 text-[10px] text-text-muted"><!> <!> <span> </span></div></div> <div class="flex items-center gap-1 flex-shrink-0"><button class="px-2 py-1 rounded text-[10px] border border-accent-cyan/20 text-accent-cyan hover:bg-accent-cyan/10 transition-colors">Chat</button> <button class="p-1 rounded hover:bg-bg-hover text-text-muted hover:text-red-400 transition-colors"><svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></button></div></div> <!></div>`),Tn=b('<div class="border-t border-border-default bg-bg-primary/30"><div class="px-4 py-2"><div class="text-[10px] uppercase tracking-wider text-text-muted font-semibold mb-2 flex items-center gap-2"><svg class="w-3.5 h-3.5 text-accent-amber" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg> </div> <div class="space-y-2"></div></div></div>'),Ln=b(`<div class="rounded-xl border border-border-default bg-bg-secondary/50 hover:border-accent-cyan/20 transition-all animate-fade-in"><div class="p-4"><div class="flex items-start gap-4"><div class="flex-1 min-w-0"><div class="flex items-center gap-2 mb-1.5 flex-wrap"><!> <span> </span> <!> <!> <!></div> <div class="flex items-center gap-2 mb-1.5 flex-wrap"><!> <!> <!></div> <!> <div class="flex items-center gap-3 text-xs text-text-muted"><span class="flex items-center gap-1"><svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> </span> <span class="font-mono text-text-muted/40 text-[10px] truncate max-w-[250px]"> </span></div></div> <div class="flex flex-col items-end gap-2 flex-shrink-0"><div class="flex items-center gap-1"><button><svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg> </button> <button><svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg> </button> <!></div> <!> <div class="flex items-center gap-1"><button class="px-3 py-1.5 rounded-lg text-xs border border-accent-cyan/30 text-accent-cyan
                               hover:bg-accent-cyan/10 transition-colors" title="Open in chat">Chat</button> <button class="p-1.5 rounded-lg hover:bg-bg-hover text-text-muted hover:text-red-400 transition-colors" title="Delete session"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></button></div></div></div></div> <!> <!></div>`),Sn=b('<div class="flex flex-col gap-3"></div>'),jn=b(`<div class="h-full flex flex-col overflow-hidden"><div class="flex-shrink-0 p-4 md:p-6 pb-4 border-b border-border-default"><div class="flex items-start justify-between gap-4 flex-wrap"><div class="flex items-center gap-3"><div class="w-10 h-10 rounded-xl gradient-bg border border-border-glow flex items-center justify-center flex-shrink-0"><svg class="w-5 h-5 text-accent-cyan" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path></svg></div> <div><h1 class="text-xl font-bold text-text-primary glow-text-cyan">Sessions</h1> <p class="text-sm text-text-muted">Inspect, control, and manage active sessions</p></div></div> <div class="flex items-center gap-2"><button><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"></path></svg> Filters</button> <button class="flex items-center gap-1.5 px-3 py-1.5 text-sm bg-bg-tertiary border border-border-default rounded-lg text-text-secondary hover:text-accent-cyan hover:border-accent-cyan/30 transition-all disabled:opacity-40 disabled:cursor-not-allowed"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg> </button></div></div> <div class="grid grid-cols-3 md:grid-cols-5 gap-3 mt-4"><div class="rounded-lg border border-border-default bg-bg-secondary/50 p-3 text-center"><div class="text-xl font-bold text-text-primary font-mono"> </div> <div class="text-xs text-text-muted">Total</div></div> <div class="rounded-lg border border-border-default bg-bg-secondary/50 p-3 text-center"><div class="text-xl font-bold text-accent-purple font-mono"> </div> <div class="text-xs text-text-muted">Main</div></div> <div class="rounded-lg border border-border-default bg-bg-secondary/50 p-3 text-center"><div class="text-xl font-bold text-accent-cyan font-mono"> </div> <div class="text-xs text-text-muted">Isolated</div></div> <div class="rounded-lg border border-border-default bg-bg-secondary/50 p-3 text-center"><div class="text-xl font-bold text-accent-amber font-mono"> </div> <div class="text-xs text-text-muted">Sub-agents</div></div> <div class="rounded-lg border border-border-default bg-bg-secondary/50 p-3 text-center"><div class="text-xl font-bold text-accent-green font-mono"> </div> <div class="text-xs text-text-muted">Tokens</div></div></div> <!></div> <div class="flex-shrink-0 px-4 md:px-6 py-3 border-b border-border-default/50"><div class="flex gap-3 items-center flex-wrap"><div class="relative flex-1"><input type="text" placeholder="Search sessions by name, key, channel, model, agent..." class="w-full pl-9 pr-3 py-2 text-sm rounded-lg border border-border-default bg-bg-tertiary
                 text-text-primary placeholder-text-muted focus:outline-none focus:border-accent-cyan transition-all"/> <svg class="absolute left-3 top-2.5 w-4 h-4 text-text-muted" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></div> <select class="px-3 py-2 text-sm rounded-lg border border-border-default bg-bg-tertiary text-text-secondary"><option>Sort: Activity</option><option>Sort: Name</option><option>Sort: Channel</option><option>Sort: Tokens</option></select> <div class="flex rounded-lg border border-border-default overflow-hidden"><button><svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg> List</button> <button><svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4h2v16H3zM9 4h2v8H9zM15 8h2v12h-2zM21 4h2v6h-2z"></path></svg> Tree</button></div> <!></div></div> <div class="flex-1 overflow-y-auto p-4 md:p-6"><!></div></div>`);function En(Dr,$r){wa($r,!0);const it=La(),j=$a(),Fe=Ba();let oe=L(!1),se=L(""),be=L(""),ge=L("activity"),I=L(null),H=L(!1),ze=L(!1),fe=L(null),P=L(""),Ve=L(null),He=L(q(new Set)),ee=L("grouped"),me=L(q([]));L(q(new Set)),L(q(new Map)),L(q(new Set));let Z=L("list"),he=L(q(new Set)),Ie=L(q(j.filters.activeMinutes)),Ne=L(q(j.filters.limit)),Re=L(q(j.filters.includeGlobal)),Ue=L(q(j.filters.includeUnknown));Ar(()=>{const t=e(se),o=setTimeout(()=>{f(be,t,!0)},200);return()=>clearTimeout(o)}),Ar(()=>{it.state.status==="connected"&&Ma(()=>{ye(),Fr()})});async function ye(){f(oe,!0),await j.fetchSessions({activeMinutes:e(Ie),limit:e(Ne),includeGlobal:e(Re),includeUnknown:e(Ue)}),f(oe,!1)}function Br(){j.setFilters({activeMinutes:e(Ie),limit:e(Ne),includeGlobal:e(Re),includeUnknown:e(Ue)}),ye()}async function Fr(){try{const t=await Pt.call("models.list",{});f(me,t?.models??[],!0)}catch{}}async function Wt(t,o){await Ee(t.key,{model:o})}async function ct(t){try{await Pt.call("sessions.delete",{key:t,deleteTranscript:e(H)}),Fe.success("Deleted","Session removed"),f(I,null),f(H,!1),await ye()}catch(o){Fe.error("Failed",String(o))}}async function Ee(t,o){f(Ve,t,!0);try{await Pt.call("sessions.patch",{key:t,...o}),Fe.success("Updated","Session settings saved"),await ye()}catch(i){Fe.error("Failed",String(i))}finally{f(Ve,null)}}function Jt(t){f(fe,t.key,!0),f(P,t.label??j.getSessionTitle(t),!0)}async function Xt(t){e(P).trim()&&await Ee(t,{label:e(P).trim()}),f(fe,null),f(P,"")}function Yt(){f(fe,null),f(P,"")}async function Zt(t){const o=["off","on","stream"],i=t.thinkingLevel??"off",m=o.indexOf(i),h=o[(m+1)%o.length];await Ee(t.key,{thinkingLevel:h})}async function er(t){const i=(t.verboseLevel??"off")==="off"?"on":"off";await Ee(t.key,{verboseLevel:i})}function dt(t){j.setActiveSession(t),Fa("/")}function zr(t){const o=new Set(e(He));o.has(t)?o.delete(t):o.add(t),f(He,o,!0)}function Vr(t){return t.key.includes(":main")?"main":t.key.includes(":subagent:")?"subagent":"isolated"}function vt(t){return t.key.includes(":subagent:")}function Hr(t){if(!vt(t))return null;const o=t.key.indexOf(":subagent:");return o===-1?null:t.key.substring(0,o)+":main"}function Ir(t){const o=t.key.lastIndexOf(":subagent:");return o===-1?t.key:t.key.substring(o+10)}function Nr(t){if(t.status==="error")return"error";if(t.status==="done"||t.status==="completed")return"done";const o=t.lastActivityAt?new Date(t.lastActivityAt).getTime():t.lastActivity?t.lastActivity:0;return o&&Date.now()-o>300*1e3?"done":o?"active":"unknown"}function tr(t){return t.includes(":subagent:")?{type:"subagent",parent:t.split(":subagent:")[0]+":main"}:t.includes(":cron:")&&t.includes(":run:")?{type:"cron-run",parent:t.split(":run:")[0]}:t.includes(":cron:")?{type:"cron",parent:t.split(":cron:")[0]+":main"}:t.endsWith(":main")?{type:"main"}:{type:"channel"}}function Rr(t){switch(t){case"main":return"cyan";case"subagent":return"purple";case"cron":return"amber";case"cron-run":return"amber";case"channel":return"green";default:return"cyan"}}function Ur(t){const o=new Set(e(he));o.has(t)?o.delete(t):o.add(t),f(he,o,!0)}function Er(){f(he,new Set,!0)}function Or(){const t=new Set,o=i=>{for(const m of i)m.children.length>0&&(t.add(m.session.key),o(m.children))};o(e(ke)),f(he,t,!0)}function ut(t){if(!t)return"n/a";const o=typeof t=="string"?new Date(t):new Date(t),i=Date.now()-o.getTime();return i<6e4?"just now":i<36e5?`${Math.floor(i/6e4)}m ago`:i<864e5?`${Math.floor(i/36e5)}h ago`:o.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function Oe(t){return!t&&t!==0?"â€”":t>=1e6?`${(t/1e6).toFixed(1)}M`:t>=1e3?`${(t/1e3).toFixed(1)}K`:String(t)}let Gr=D(()=>j.list.filter(t=>!vt(t))),qr=D(()=>{const t=new Map;for(const o of j.list)if(vt(o)){const i=Hr(o);i&&(t.has(i)||t.set(i,[]),t.get(i).push(o))}return t}),pt=D(()=>{let t=e(ee)==="grouped"?e(Gr):j.list;if(e(be).trim()){const o=e(be).toLowerCase();t=t.filter(i=>j.getSessionTitle(i).toLowerCase().includes(o)||i.key.toLowerCase().includes(o)||(i.channel?.toLowerCase().includes(o)??!1)||(i.model?.toLowerCase().includes(o)??!1)||(i.agentId?.toLowerCase().includes(o)??!1)||(i.provider?.toLowerCase().includes(o)??!1))}return t=[...t],e(ge)==="name"?t.sort((o,i)=>j.getSessionTitle(o).localeCompare(j.getSessionTitle(i))):e(ge)==="channel"?t.sort((o,i)=>(o.channel??"").localeCompare(i.channel??"")):e(ge)==="tokens"?t.sort((o,i)=>le(i)-le(o)):t.sort((o,i)=>{const m=o.lastActivityAt?new Date(o.lastActivityAt).getTime():o.lastActivity??0;return(i.lastActivityAt?new Date(i.lastActivityAt).getTime():i.lastActivity??0)-m}),t});function le(t){return t.totalTokens??t.tokenCount??0}let _e=D(()=>{const t=j.list,o=t.reduce((i,m)=>i+le(m),0);return{total:t.length,main:t.filter(i=>i.key.includes(":main")&&!i.key.includes(":subagent:")).length,isolated:t.filter(i=>!i.key.includes(":main")&&!i.key.includes(":subagent:")).length,subagent:t.filter(i=>i.key.includes(":subagent:")).length,totalTokens:o}}),ke=D(()=>{const t=j.list,o=new Map,i=[];for(const h of t){const C=tr(h.key);o.set(h.key,{session:h,sessionType:C.type,children:[]})}for(const h of t){const C=tr(h.key),c=o.get(h.key);if(C.parent){const _=o.get(C.parent);if(_){_.children.push(c);continue}}i.push(c)}const m=h=>{h.sort((C,c)=>{const _=C.session.lastActivityAt?new Date(C.session.lastActivityAt).getTime():C.session.lastActivity??0;return(c.session.lastActivityAt?new Date(c.session.lastActivityAt).getTime():c.session.lastActivity??0)-_});for(const C of h)C.children.length>0&&m(C.children)};if(m(i),e(be).trim()){const h=e(be).toLowerCase(),C=c=>{const _=c.session,v=j.getSessionTitle(_).toLowerCase().includes(h)||_.key.toLowerCase().includes(h)||(_.channel?.toLowerCase().includes(h)??!1)||(_.model?.toLowerCase().includes(h)??!1)||(_.agentId?.toLowerCase().includes(h)??!1)||(_.provider?.toLowerCase().includes(h)??!1),G=c.children.some(U=>C(U));return v||G};return i.filter(c=>C(c))}return i}),rr=D(()=>{let t=0;const o=i=>{for(const m of i)t+=m.children.length,o(m.children)};return o(e(ke)),{roots:e(ke).length,nested:t}});var xt=jn();Sa("98wg7q",t=>{Aa(()=>{Ta.title="Sessions â€” Cortex"})});var bt=a(xt),gt=a(bt),ar=n(a(gt),2),ft=a(ar),Ge=n(ft,2),nr=a(Ge),Kr=n(nr);r(Ge),r(ar),r(gt);var mt=n(gt,2),ht=a(mt),or=a(ht),Pr=a(or,!0);r(or),O(2),r(ht);var yt=n(ht,2),sr=a(yt),Qr=a(sr,!0);r(sr),O(2),r(yt);var _t=n(yt,2),lr=a(_t),Wr=a(lr,!0);r(lr),O(2),r(_t);var kt=n(_t,2),ir=a(kt),Jr=a(ir,!0);r(ir),O(2),r(kt);var cr=n(kt,2),dr=a(cr),Xr=a(dr,!0);r(dr),O(2),r(cr),r(mt);var Yr=n(mt,2);{var Zr=t=>{var o=za(),i=a(o),m=a(i),h=n(a(m),2);K(h),r(m);var C=n(m,2),c=n(a(C),2);K(c),r(C);var _=n(C,2),v=a(_),G=a(v);K(G),O(),r(v);var U=n(v,2),N=a(U);K(N),O(),r(U),r(_);var $=n(_,2),Q=a($);r($),r(i),r(o),$e(h,()=>e(Ie),B=>f(Ie,B)),$e(c,()=>e(Ne),B=>f(Ne,B)),Be(G,()=>e(Re),B=>f(Re,B)),Be(N,()=>e(Ue),B=>f(Ue,B)),k("click",Q,Br),x(t,o)};w(Yr,t=>{e(ze)&&t(Zr)})}r(bt);var wt=n(bt,2),vr=a(wt),Mt=a(vr),ur=a(Mt);K(ur),O(2),r(Mt);var qe=n(Mt,2),Ct=a(qe);Ct.value=Ct.__value="activity";var At=n(Ct);At.value=At.__value="name";var Tt=n(At);Tt.value=Tt.__value="channel";var pr=n(Tt);pr.value=pr.__value="tokens",r(qe);var Lt=n(qe,2),St=a(Lt),xr=n(St,2);r(Lt);var ea=n(Lt,2);{var ta=t=>{var o=Va(),i=a(o),m=n(i,2);r(o),y(()=>{S(i,1,`px-3 py-2 text-xs transition-all ${e(ee)==="grouped"?"bg-accent-cyan/10 text-accent-cyan":"bg-bg-tertiary text-text-muted hover:text-text-secondary"}`),S(m,1,`px-3 py-2 text-xs transition-all ${e(ee)==="all"?"bg-accent-cyan/10 text-accent-cyan":"bg-bg-tertiary text-text-muted hover:text-text-secondary"}`)}),k("click",i,()=>f(ee,"grouped")),k("click",m,()=>f(ee,"all")),x(t,o)},ra=t=>{var o=Ha(),i=a(o),m=n(i,2),h=n(m,2),C=a(h);r(h),r(o),y(()=>g(C,`${e(rr).roots??""} roots Â· ${e(rr).nested??""} nested`)),k("click",i,Er),k("click",m,Or),x(t,o)};w(ea,t=>{e(Z)==="list"?t(ta):t(ra,!1)})}r(vr),r(wt);var br=n(wt,2),aa=a(br);{var na=t=>{var o=Ia();x(t,o)},oa=t=>{var o=Ra();ne(o,20,()=>Array(4),Qt,(i,m)=>{var h=Na();x(i,h)}),r(o),x(t,o)},sa=t=>{var o=Ua(),i=a(o),m=a(i,!0);r(i),r(o),y(()=>g(m,e(se)?"No sessions match your search.":"No sessions found.")),x(t,o)},la=t=>{var o=Ea(),i=a(o),m=a(i,!0);r(i),r(o),y(()=>g(m,e(se)?"No sessions match your search.":"No sessions found.")),x(t,o)},ia=t=>{const o=(m,h=Tr,C=Tr)=>{const c=D(()=>h().session),_=D(()=>h().sessionType),v=D(()=>le(e(c))),G=D(()=>e(Ve)===e(c).key),U=D(()=>!e(he).has(e(c).key)),N=D(()=>h().children.length>0),$=D(()=>Rr(e(_)));var Q=on(),B=a(Q),te=a(B),we=a(te),ie=a(we);{var Me=s=>{var l=Oa(),u=a(l);r(l),y(()=>{S(l,1,`mt-0.5 p-1 rounded-lg hover:bg-bg-hover transition-all flex-shrink-0
                           ${e($)==="cyan"?"text-accent-cyan hover:bg-accent-cyan/10":e($)==="purple"?"text-accent-purple hover:bg-accent-purple/10":e($)==="amber"?"text-accent-amber hover:bg-accent-amber/10":"text-accent-green hover:bg-accent-green/10"}`),S(u,0,`w-4 h-4 transition-transform duration-200 ${e(U)?"rotate-90":""}`)}),k("click",l,()=>Ur(e(c).key)),x(s,l)},Ke=s=>{var l=Ga(),u=a(l);r(l),y(()=>S(u,1,`w-1.5 h-1.5 rounded-full
                      ${e($)==="cyan"?"bg-accent-cyan/40":e($)==="purple"?"bg-accent-purple/40":e($)==="amber"?"bg-accent-amber/40":"bg-accent-green/40"}`)),x(s,l)};w(ie,s=>{e(N)?s(Me):s(Ke,!1)})}var Ce=n(ie,2),Ae=a(Ce),re=a(Ae);{var jt=s=>{var l=qa(),u=a(l);K(u),Lr(u);var A=n(u,4);r(l),Cr("submit",l,T=>{T.preventDefault(),Xt(e(c).key)}),$e(u,()=>e(P),T=>f(P,T)),k("click",A,Yt),x(s,l)},Pe=s=>{var l=Ka(),u=Kt(l),A=a(u,!0);r(u);var T=n(u,2);y(M=>{S(u,1,`font-medium text-text-primary truncate max-w-[300px]
                        ${C()===0?"text-base font-semibold":"text-sm"}`),g(A,M)},[()=>j.getSessionTitle(e(c))]),k("click",T,()=>Jt(e(c))),x(s,l)};w(re,s=>{e(fe)===e(c).key?s(jt):s(Pe,!1)})}var ce=n(re,2),Qe=a(ce,!0);r(ce);var We=n(ce,2);{var Dt=s=>{var l=Pa(),u=a(l,!0);r(l),y(()=>g(u,e(c).channel)),x(s,l)};w(We,s=>{e(c).channel&&s(Dt)})}var Je=n(We,2);{var Te=s=>{var l=Qa(),u=a(l,!0);r(l),y(()=>g(u,e(c).agentId)),x(s,l)};w(Je,s=>{e(c).agentId&&s(Te)})}var Xe=n(Je,2);{var $t=s=>{var l=Wa(),u=a(l);r(l),y(()=>{S(l,1,`px-2 py-0.5 rounded-full text-[10px] font-bold
                        ${e($)==="cyan"?"bg-accent-cyan/15 text-accent-cyan":e($)==="purple"?"bg-accent-purple/15 text-accent-purple":e($)==="amber"?"bg-accent-amber/15 text-accent-amber":"bg-accent-green/15 text-accent-green"}`),g(u,`${h().children.length??""} child${h().children.length!==1?"ren":""}`)}),x(s,l)};w(Xe,s=>{e(N)&&s($t)})}r(Ae);var de=n(Ae,2),Ye=a(de);{var Bt=s=>{var l=Ja(),u=n(a(l));r(l),y(()=>g(u,` ${e(c).model??""}`)),x(s,l)};w(Ye,s=>{e(c).model&&s(Bt)})}var Ze=n(Ye,2);{var et=s=>{var l=Xa(),u=a(l,!0);r(l),y(()=>g(u,e(c).provider)),x(s,l)};w(Ze,s=>{e(c).provider&&s(et)})}var Ft=n(Ze,2);{var tt=s=>{var l=Ya(),u=n(a(l));r(l),y(A=>g(u,` ${A??""} tokens`),[()=>Oe(e(v))]),x(s,l)};w(Ft,s=>{e(v)>0&&s(tt)})}r(de);var ve=n(de,2);{var zt=s=>{var l=Za(),u=a(l,!0);r(l),y(()=>g(u,e(c).lastMessage)),x(s,l)};w(ve,s=>{e(c).lastMessage&&s(zt)})}var ue=n(ve,2),Le=a(ue),rt=n(a(Le));r(Le);var ae=n(Le,2),W=a(ae,!0);r(ae),r(ue),r(Ce);var at=n(Ce,2),E=a(at),J=a(E),Vt=n(a(J));r(J);var X=n(J,2),nt=n(a(X));r(X);var Ht=n(X,2);{var ot=s=>{var l=en(),u=a(l);r(l),y(()=>g(u,`R:${e(c).reasoningLevel??""}`)),x(s,l)};w(Ht,s=>{e(c).reasoningLevel&&e(c).reasoningLevel!=="off"&&s(ot)})}r(E);var Se=n(E,2);{var It=s=>{var l=rn(),u=a(l);u.value=u.__value="default";var A=n(u);ne(A,17,()=>e(me),Qt,(M,V)=>{var R=tn(),De=a(R,!0);r(R);var pe={};y(()=>{g(De,e(V).name||e(V).id),pe!==(pe=e(V).id)&&(R.value=(R.__value=e(V).id)??"")}),x(M,R)}),r(l);var T;Sr(l),y(()=>{l.disabled=e(G),T!==(T=e(c).model||"default")&&(l.value=(l.__value=e(c).model||"default")??"",jr(l,e(c).model||"default"))}),k("change",l,M=>Wt(e(c),M.currentTarget.value)),x(s,l)};w(Se,s=>{e(me).length>0&&s(It)})}var je=n(Se,2),st=a(je),Nt=n(st,2);r(je),r(at),r(we),r(te);var Rt=n(te,2);{var Ut=s=>{var l=an(),u=a(l),A=n(a(u),2),T=a(A);K(T),O(),r(A);var M=n(A,2),V=n(M,2);r(u),r(l),Be(T,()=>e(H),R=>f(H,R)),k("click",M,()=>ct(e(c).key)),k("click",V,()=>{f(I,null),f(H,!1)}),x(s,l)};w(Rt,s=>{e(I)===e(c).key&&s(Ut)})}r(B);var p=n(B,2);{var d=s=>{var l=nn();ne(l,21,()=>h().children,u=>u.session.key,(u,A)=>{o(u,()=>e(A),()=>C()+1)}),r(l),y(()=>S(l,1,`ml-6 pl-4 mt-2 space-y-2 border-l-2
              ${e($)==="cyan"?"border-accent-cyan/30":e($)==="purple"?"border-accent-purple/30":e($)==="amber"?"border-accent-amber/30":"border-accent-green/30"}`)),x(s,l)};w(p,s=>{e(N)&&e(U)&&s(d)})}r(Q),y(s=>{S(B,1,`rounded-xl border bg-bg-secondary/50 transition-all
                      ${e(_)==="main"?"border-accent-cyan/25 hover:border-accent-cyan/50":e(_)==="subagent"?"border-accent-purple/25 hover:border-accent-purple/50":e(_)==="cron"||e(_)==="cron-run"?"border-accent-amber/25 hover:border-accent-amber/50":"border-accent-green/25 hover:border-accent-green/50"}`),S(ce,1,`px-2 py-0.5 rounded text-[10px] font-medium
                      ${e(_)==="main"?"bg-accent-cyan/20 text-accent-cyan border border-accent-cyan/20":e(_)==="subagent"?"bg-accent-purple/20 text-accent-purple border border-accent-purple/20":e(_)==="cron"||e(_)==="cron-run"?"bg-accent-amber/20 text-accent-amber border border-accent-amber/20":"bg-accent-green/20 text-accent-green border border-accent-green/20"}`),g(Qe,e(_)),g(rt,` ${s??""}`),xe(ae,"title",e(c).key),g(W,e(c).key),J.disabled=e(G),S(J,1,`flex items-center gap-1 px-2 py-1 rounded-lg text-[10px] font-medium border transition-all disabled:opacity-50
                        ${e(c).thinkingLevel==="stream"?"bg-accent-cyan/15 text-accent-cyan border-accent-cyan/30 glow-cyan":e(c).thinkingLevel==="on"?"bg-accent-purple/15 text-accent-purple border-accent-purple/30":"bg-bg-tertiary text-text-muted border-border-default hover:border-accent-cyan/30 hover:text-text-secondary"}`),xe(J,"title",`Thinking: ${e(c).thinkingLevel??"off"??""} (click to cycle)`),g(Vt,` T:${e(c).thinkingLevel??"off"??""}`),X.disabled=e(G),S(X,1,`flex items-center gap-1 px-2 py-1 rounded-lg text-[10px] font-medium border transition-all disabled:opacity-50
                        ${e(c).verboseLevel==="on"?"bg-accent-green/15 text-accent-green border-accent-green/30":"bg-bg-tertiary text-text-muted border-border-default hover:border-accent-green/30 hover:text-text-secondary"}`),xe(X,"title",`Verbose: ${e(c).verboseLevel??"off"??""} (click to toggle)`),g(nt,` V:${e(c).verboseLevel??"off"??""}`)},[()=>ut(e(c).lastActivityAt??e(c).lastActivity)]),k("click",J,()=>Zt(e(c))),k("click",X,()=>er(e(c))),k("click",st,()=>dt(e(c).key)),k("click",Nt,()=>{f(I,e(I)===e(c).key?null:e(c).key,!0),f(H,!1)}),x(m,Q)};var i=sn();ne(i,21,()=>e(ke),m=>m.session.key,(m,h)=>{o(m,()=>e(h),()=>0)}),r(i),x(t,i)},ca=t=>{var o=ka(),i=Kt(o);{var m=C=>{var c=ln(),_=a(c),v=a(_,!0);r(_),r(c),y(()=>g(v,e(se)?"No sessions match your search.":"No sessions found.")),x(C,c)},h=C=>{var c=Sn();ne(c,23,()=>e(pt),_=>_.key,(_,v,G)=>{const U=D(()=>Vr(e(v))),N=D(()=>e(qr).get(e(v).key)??[]),$=D(()=>le(e(v))),Q=D(()=>e(Ve)===e(v).key);var B=Ln(),te=a(B),we=a(te),ie=a(we),Me=a(ie),Ke=a(Me);{var Ce=p=>{var d=cn(),s=a(d);K(s),Lr(s);var l=n(s,4);r(d),Cr("submit",d,u=>{u.preventDefault(),Xt(e(v).key)}),$e(s,()=>e(P),u=>f(P,u)),k("click",l,Yt),x(p,d)},Ae=p=>{var d=dn(),s=Kt(d),l=a(s,!0);r(s);var u=n(s,2);y(A=>g(l,A),[()=>j.getSessionTitle(e(v))]),k("click",u,()=>Jt(e(v))),x(p,d)};w(Ke,p=>{e(fe)===e(v).key?p(Ce):p(Ae,!1)})}var re=n(Ke,2),jt=a(re,!0);r(re);var Pe=n(re,2);{var ce=p=>{var d=vn(),s=a(d,!0);r(d),y(()=>g(s,e(v).channel)),x(p,d)};w(Pe,p=>{e(v).channel&&p(ce)})}var Qe=n(Pe,2);{var We=p=>{var d=un(),s=a(d,!0);r(d),y(()=>g(s,e(v).agentId)),x(p,d)};w(Qe,p=>{e(v).agentId&&p(We)})}var Dt=n(Qe,2);{var Je=p=>{var d=pn(),s=a(d),l=n(s);r(d),y(u=>{S(s,0,`w-3 h-3 transition-transform ${u??""}`),g(l,` ${e(N).length??""} sub-agent${e(N).length!==1?"s":""}`)},[()=>e(He).has(e(v).key)?"rotate-90":""]),k("click",d,()=>zr(e(v).key)),x(p,d)};w(Dt,p=>{e(ee)==="grouped"&&e(N).length>0&&p(Je)})}r(Me);var Te=n(Me,2),Xe=a(Te);{var $t=p=>{var d=xn(),s=n(a(d));r(d),y(()=>g(s,` ${e(v).model??""}`)),x(p,d)};w(Xe,p=>{e(v).model&&p($t)})}var de=n(Xe,2);{var Ye=p=>{var d=bn(),s=a(d,!0);r(d),y(()=>g(s,e(v).provider)),x(p,d)};w(de,p=>{e(v).provider&&p(Ye)})}var Bt=n(de,2);{var Ze=p=>{var d=gn(),s=n(a(d));r(d),y(l=>g(s,` ${l??""} tokens`),[()=>Oe(e($))]),x(p,d)};w(Bt,p=>{e($)>0&&p(Ze)})}r(Te);var et=n(Te,2);{var Ft=p=>{var d=fn(),s=a(d,!0);r(d),y(()=>g(s,e(v).lastMessage)),x(p,d)};w(et,p=>{e(v).lastMessage&&p(Ft)})}var tt=n(et,2),ve=a(tt),zt=n(a(ve));r(ve);var ue=n(ve,2),Le=a(ue,!0);r(ue),r(tt),r(ie);var rt=n(ie,2),ae=a(rt),W=a(ae),at=n(a(W));r(W);var E=n(W,2),J=n(a(E));r(E);var Vt=n(E,2);{var X=p=>{var d=mn(),s=a(d);r(d),y(()=>g(s,`R:${e(v).reasoningLevel??""}`)),x(p,d)};w(Vt,p=>{e(v).reasoningLevel&&e(v).reasoningLevel!=="off"&&p(X)})}r(ae);var nt=n(ae,2);{var Ht=p=>{var d=yn(),s=a(d);s.value=s.__value="default";var l=n(s);ne(l,17,()=>e(me),Qt,(A,T)=>{var M=hn(),V=a(M,!0);r(M);var R={};y(()=>{g(V,e(T).name||e(T).id),R!==(R=e(T).id)&&(M.value=(M.__value=e(T).id)??"")}),x(A,M)}),r(d);var u;Sr(d),y(()=>{d.disabled=e(Q),u!==(u=e(v).model||"default")&&(d.value=(d.__value=e(v).model||"default")??"",jr(d,e(v).model||"default"))}),k("change",d,A=>Wt(e(v),A.currentTarget.value)),x(p,d)};w(nt,p=>{e(me).length>0&&p(Ht)})}var ot=n(nt,2),Se=a(ot),It=n(Se,2);r(ot),r(rt),r(we),r(te);var je=n(te,2);{var st=p=>{var d=_n(),s=a(d),l=n(a(s),2),u=a(l);K(u),O(),r(l);var A=n(l,2),T=n(A,2);r(s),r(d),Be(u,()=>e(H),M=>f(H,M)),k("click",A,()=>ct(e(v).key)),k("click",T,()=>{f(I,null),f(H,!1)}),x(p,d)};w(je,p=>{e(I)===e(v).key&&p(st)})}var Nt=n(je,2);{var Rt=p=>{var d=Tn(),s=a(d),l=a(s),u=n(a(l));r(l);var A=n(l,2);ne(A,21,()=>e(N),T=>T.key,(T,M)=>{const V=D(()=>Nr(e(M))),R=D(()=>le(e(M)));var De=An(),pe=a(De),Et=a(pe),Ot=a(Et),gr=a(Ot),Gt=n(gr,2),da=a(Gt,!0);r(Gt);var qt=n(Gt,2),va=a(qt,!0);r(qt),r(Ot);var fr=n(Ot,2);{var ua=F=>{var z=kn(),Y=a(z,!0);r(z),y(()=>g(Y,e(M).lastMessage)),x(F,z)};w(fr,F=>{e(M).lastMessage&&F(ua)})}var mr=n(fr,2),hr=a(mr);{var pa=F=>{var z=wn(),Y=a(z,!0);r(z),y(()=>g(Y,e(M).model)),x(F,z)};w(hr,F=>{e(M).model&&F(pa)})}var yr=n(hr,2);{var xa=F=>{var z=Mn(),Y=a(z);r(z),y(lt=>g(Y,`${lt??""} tokens`),[()=>Oe(e(R))]),x(F,z)};w(yr,F=>{e(R)>0&&F(xa)})}var _r=n(yr,2),ba=a(_r,!0);r(_r),r(mr),r(Et);var kr=n(Et,2),wr=a(kr),ga=n(wr,2);r(kr),r(pe);var fa=n(pe,2);{var ma=F=>{var z=Cn(),Y=n(a(z),2),lt=a(Y);K(lt),O(),r(Y);var Mr=n(Y,2),ha=n(Mr,2);r(z),Be(lt,()=>e(H),ya=>f(H,ya)),k("click",Mr,()=>ct(e(M).key)),k("click",ha,()=>{f(I,null),f(H,!1)}),x(F,z)};w(fa,F=>{e(I)===e(M).key&&F(ma)})}r(De),y((F,z)=>{S(gr,1,`w-2 h-2 rounded-full flex-shrink-0
                                  ${e(V)==="active"?"bg-accent-green glow-pulse":e(V)==="done"?"bg-accent-cyan":e(V)==="error"?"bg-accent-pink":"bg-text-muted"}`),g(da,F),S(qt,1,`px-1.5 py-0.5 rounded text-[9px] font-medium
                                  ${e(V)==="active"?"bg-accent-green/15 text-accent-green":e(V)==="done"?"bg-accent-cyan/15 text-accent-cyan":e(V)==="error"?"bg-accent-pink/15 text-accent-pink":"bg-bg-tertiary text-text-muted"}`),g(va,e(V)),g(ba,z)},[()=>e(M).label||Ir(e(M)),()=>ut(e(M).lastActivityAt??e(M).lastActivity)]),k("click",wr,()=>dt(e(M).key)),k("click",ga,()=>{f(I,e(I)===e(M).key?null:e(M).key,!0),f(H,!1)}),x(T,De)}),r(A),r(s),r(d),y(()=>g(u,` Sub-Agents (${e(N).length??""})`)),x(p,d)},Ut=D(()=>e(ee)==="grouped"&&e(He).has(e(v).key)&&e(N).length>0);w(Nt,p=>{e(Ut)&&p(Rt)})}r(B),y(p=>{ja(B,`animation-delay: ${e(G)*30}ms`),S(re,1,`px-2 py-0.5 rounded text-[10px] font-medium
                        ${e(U)==="main"?"bg-accent-purple/20 text-accent-purple border border-accent-purple/20":e(U)==="subagent"?"bg-accent-amber/20 text-accent-amber border border-accent-amber/20":"bg-accent-cyan/20 text-accent-cyan border border-accent-cyan/20"}`),g(jt,e(U)),g(zt,` ${p??""}`),xe(ue,"title",e(v).key),g(Le,e(v).key),W.disabled=e(Q),S(W,1,`flex items-center gap-1 px-2 py-1 rounded-lg text-[10px] font-medium border transition-all disabled:opacity-50
                          ${e(v).thinkingLevel==="stream"?"bg-accent-cyan/15 text-accent-cyan border-accent-cyan/30 glow-cyan":e(v).thinkingLevel==="on"?"bg-accent-purple/15 text-accent-purple border-accent-purple/30":"bg-bg-tertiary text-text-muted border-border-default hover:border-accent-cyan/30 hover:text-text-secondary"}`),xe(W,"title",`Thinking: ${e(v).thinkingLevel??"off"??""} (click to cycle)`),g(at,` T:${e(v).thinkingLevel??"off"??""}`),E.disabled=e(Q),S(E,1,`flex items-center gap-1 px-2 py-1 rounded-lg text-[10px] font-medium border transition-all disabled:opacity-50
                          ${e(v).verboseLevel==="on"?"bg-accent-green/15 text-accent-green border-accent-green/30":"bg-bg-tertiary text-text-muted border-border-default hover:border-accent-green/30 hover:text-text-secondary"}`),xe(E,"title",`Verbose: ${e(v).verboseLevel??"off"??""} (click to toggle)`),g(J,` V:${e(v).verboseLevel??"off"??""}`)},[()=>ut(e(v).lastActivityAt??e(v).lastActivity)]),k("click",W,()=>Zt(e(v))),k("click",E,()=>er(e(v))),k("click",Se,()=>dt(e(v).key)),k("click",It,()=>{f(I,e(I)===e(v).key?null:e(v).key,!0),f(H,!1)}),x(_,B)}),r(c),x(C,c)};w(i,C=>{e(pt).length===0?C(m):C(h,!1)})}x(t,o)};w(aa,t=>{it.state.status!=="connected"?t(na):e(oe)&&j.list.length===0?t(oa,1):e(Z)==="list"&&e(pt).length===0?t(sa,2):e(Z)==="tree"&&e(ke).length===0?t(la,3):e(Z)==="tree"?t(ia,4):t(ca,!1)})}r(br),r(xt),y(t=>{S(ft,1,`flex items-center gap-1.5 px-3 py-1.5 text-sm border rounded-lg transition-all
                 ${e(ze)?"border-accent-cyan/50 text-accent-cyan bg-accent-cyan/10":"border-border-default text-text-secondary hover:text-accent-cyan hover:border-accent-cyan/30 bg-bg-tertiary"}`),Ge.disabled=e(oe)||it.state.status!=="connected",S(nr,0,`w-4 h-4 ${e(oe)?"animate-spin":""}`),g(Kr,` ${e(oe)?"Loadingâ€¦":"Refresh"}`),g(Pr,e(_e).total),g(Qr,e(_e).main),g(Wr,e(_e).isolated),g(Jr,e(_e).subagent),g(Xr,t),S(St,1,`px-3 py-2 text-xs transition-all flex items-center gap-1.5
                 ${e(Z)==="list"?"bg-accent-cyan/10 text-accent-cyan":"bg-bg-tertiary text-text-muted hover:text-text-secondary"}`),S(xr,1,`px-3 py-2 text-xs transition-all flex items-center gap-1.5
                 ${e(Z)==="tree"?"bg-accent-purple/10 text-accent-purple":"bg-bg-tertiary text-text-muted hover:text-text-secondary"}`)},[()=>Oe(e(_e).totalTokens)]),k("click",ft,()=>f(ze,!e(ze))),k("click",Ge,ye),$e(ur,()=>e(se),t=>f(se,t)),Da(qe,()=>e(ge),t=>f(ge,t)),k("click",St,()=>f(Z,"list")),k("click",xr,()=>f(Z,"tree")),x(Dr,xt),Ca()}_a(["click","change"]);export{En as component};
